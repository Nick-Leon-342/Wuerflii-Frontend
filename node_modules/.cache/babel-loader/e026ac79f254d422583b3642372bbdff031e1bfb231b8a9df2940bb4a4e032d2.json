{"ast":null,"code":"import _slicedToArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import{Link,useNavigate}from'react-router-dom';import{formatDate,sessionStorage_finalscores,sessionStorage_session}from'./utils';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SessionAnalytics(){var _session$List_Players,_session$List_Players2,_session$List_Players3;var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),session=_useState2[0],setSession=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),finalScores=_useState4[0],setFinalScores=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),list=_useState6[0],setList=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),wins=_useState8[0],setWins=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),availableYears=_useState10[0],setAvailableYears=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),showFinalScores=_useState12[0],setShowFinalScores=_useState12[1];var firstColumnWidth='150px';var firstColumnStyle={width:firstColumnWidth,minWidth:firstColumnWidth,maxWidth:firstColumnWidth,padding:'5px',fontWeight:'bold'};var columnWidth=(session===null||session===void 0?void 0:(_session$List_Players=session.List_Players)===null||_session$List_Players===void 0?void 0:_session$List_Players.length)>8?'75px':(session===null||session===void 0?void 0:(_session$List_Players2=session.List_Players)===null||_session$List_Players2===void 0?void 0:_session$List_Players2.length)>4?'125px':'200px';var style={width:columnWidth,minWidth:columnWidth,maxWidth:columnWidth,padding:'5px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'};useEffect(function(){// if(!session || !session.List_Players) return navigate('/creategame', { replace: true })\n},[]);var continueToGame=function continueToGame(){sessionStorage.removeItem(sessionStorage_finalscores);navigate('/game',{replace:true});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{overflow:'hidden',scrollbarGutter:'stable both-edges'},children:/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:firstColumnStyle,children:\"Spieler\"}),session===null||session===void 0?void 0:(_session$List_Players3=session.List_Players)===null||_session$List_Players3===void 0?void 0:_session$List_Players3.map(function(p,i){return/*#__PURE__*/_jsx(\"td\",{style:style,children:p.Name},i);})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{width:firstColumnWidth,minWidth:firstColumnWidth,maxWidth:firstColumnWidth,padding:'5px',fontWeight:'bold'},children:[\"Gewonnen\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{value:showFinalScores,onChange:function onChange(e){return setShowFinalScores(e.target.value);},style:{color:'var(--text-color)',border:'none',outline:'none',background:'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Gesamt\"}),/*#__PURE__*/_jsx(\"option\",{value:\"thisYear\",children:\"Dieses Jahr\"}),/*#__PURE__*/_jsx(\"option\",{value:\"thisMonth\",children:\"Dieser Monat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"thisDay\",children:\"Dieser Tag\"})]})]}),wins.map(function(w,i){return/*#__PURE__*/_jsx(\"td\",{style:style,children:w},i);})]})]})})}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'305px',overflowY:'auto',overflowX:'hidden',scrollbarGutter:'stable both-edges'},children:/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:list===null||list===void 0?void 0:list.map(function(fs,i){var _session$List_Players4;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:firstColumnStyle,children:formatDate(fs.Played)}),session===null||session===void 0?void 0:(_session$List_Players4=session.List_Players)===null||_session$List_Players4===void 0?void 0:_session$List_Players4.map(function(p,j){return/*#__PURE__*/_jsx(\"td\",{style:style,children:fs[p.Alias]},\"\".concat(i,\".\").concat(j));})]},i);})})})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{height:'40px',width:'100%',marginBottom:'0px'},onClick:continueToGame,children:\"Los geht's!\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:/*#__PURE__*/_jsx(\"p\",{className:\"link-switch\",children:/*#__PURE__*/_jsx(Link,{to:\"/sessionpreview\",onClick:'',children:\"Zur\\xFCck\"})})})]});}export default SessionAnalytics;","map":{"version":3,"names":["Link","useNavigate","formatDate","sessionStorage_finalscores","sessionStorage_session","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SessionAnalytics","_session$List_Players","_session$List_Players2","_session$List_Players3","navigate","_useState","_useState2","_slicedToArray","session","setSession","_useState3","_useState4","finalScores","setFinalScores","_useState5","_useState6","list","setList","_useState7","_useState8","wins","setWins","_useState9","_useState10","availableYears","setAvailableYears","_useState11","_useState12","showFinalScores","setShowFinalScores","firstColumnWidth","firstColumnStyle","width","minWidth","maxWidth","padding","fontWeight","columnWidth","List_Players","length","style","whiteSpace","overflow","textOverflow","continueToGame","sessionStorage","removeItem","replace","children","scrollbarGutter","className","map","p","i","Name","value","onChange","e","target","color","border","outline","background","w","maxHeight","overflowY","overflowX","fs","_session$List_Players4","Played","j","Alias","concat","height","marginBottom","onClick","display","justifyContent","to"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/pages/SessionAnalytics.js"],"sourcesContent":["\r\n\r\nimport '../App.css'\r\n\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { formatDate, sessionStorage_finalscores, sessionStorage_session } from './utils'\r\nimport { useEffect, useState } from 'react'\r\n\r\n\r\n\r\n\r\n\r\nfunction SessionAnalytics() {\r\n\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst [session, setSession] = useState()\r\n\tconst [finalScores, setFinalScores] = useState()\r\n\r\n\tconst [list, setList] = useState([])\r\n\tconst [wins, setWins] = useState([])\r\n\tconst [availableYears, setAvailableYears] = useState([])\r\n\tconst [showFinalScores, setShowFinalScores] = useState()\r\n\r\n\tconst firstColumnWidth = '150px'\r\n\tconst firstColumnStyle = { width: firstColumnWidth, minWidth: firstColumnWidth, maxWidth: firstColumnWidth, padding: '5px', fontWeight: 'bold' }\r\n\tconst columnWidth = session?.List_Players?.length > 8 ? '75px' : (session?.List_Players?.length > 4 ? '125px' : '200px')\r\n\tconst style = { width: columnWidth, minWidth: columnWidth, maxWidth: columnWidth, padding: '5px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }\r\n\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\t// if(!session || !session.List_Players) return navigate('/creategame', { replace: true })\r\n\r\n\r\n\r\n\t}, [])\r\n\r\n\tconst continueToGame = () => {\r\n\r\n\t\tsessionStorage.removeItem(sessionStorage_finalscores)\r\n\t\tnavigate('/game', { replace: true })\r\n\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\r\n\t\t\t<div style={{ overflow: 'hidden', scrollbarGutter: 'stable both-edges' }}>\r\n\t\t\t\t<table className='table'>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style={firstColumnStyle}>Spieler</td>\r\n\t\t\t\t\t\t\t{session?.List_Players?.map((p, i) => (\r\n\t\t\t\t\t\t\t\t<td key={i} style={style}>{p.Name}</td>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style={{ width: firstColumnWidth, minWidth: firstColumnWidth, maxWidth: firstColumnWidth, padding: '5px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tGewonnen<br/>\r\n\t\t\t\t\t\t\t\t<select \r\n\t\t\t\t\t\t\t\t\tvalue={showFinalScores}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setShowFinalScores(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\t\tcolor: 'var(--text-color)', \r\n\t\t\t\t\t\t\t\t\t\tborder: 'none', \r\n\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'none',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value='all'>Gesamt</option>\r\n\t\t\t\t\t\t\t\t\t<option value='thisYear'>Dieses Jahr</option>\r\n\t\t\t\t\t\t\t\t\t<option value='thisMonth'>Dieser Monat</option>\r\n\t\t\t\t\t\t\t\t\t<option value='thisDay'>Dieser Tag</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t{wins.map((w, i) => (\r\n\t\t\t\t\t\t\t\t<td key={i} style={style}>\r\n\t\t\t\t\t\t\t\t\t{w}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ maxHeight: '305px', overflowY: 'auto', overflowX: 'hidden', scrollbarGutter: 'stable both-edges' }}>\r\n\t\t\t\t<table className='table'>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{list?.map((fs, i) => (\r\n\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t<td style={firstColumnStyle}>{formatDate(fs.Played)}</td>\r\n\t\t\t\t\t\t\t\t{session?.List_Players?.map((p, j) => (\r\n\t\t\t\t\t\t\t\t\t<td key={`${i}.${j}`} style={style}>{fs[p.Alias]}</td>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className='button' style={{ height: '40px', width: '100%', marginBottom: '0px' }} onClick={continueToGame}>Los geht's!</button>\r\n\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t<p className='link-switch'>\r\n\t\t\t\t\t<Link to='/sessionpreview' onClick={''}>Zurück</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t</>\r\n\t)\r\n\r\n}\r\n\r\nexport default SessionAnalytics\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
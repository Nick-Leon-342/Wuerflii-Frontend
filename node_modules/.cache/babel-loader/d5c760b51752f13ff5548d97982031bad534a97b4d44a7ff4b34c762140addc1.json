{"ast":null,"code":"import _toConsumableArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import'./css/Game.css';import React,{useEffect,useState,useRef}from'react';import{useNavigate,useLocation}from'react-router-dom';import{isMobile}from'react-device-detect';import useAxiosPrivate from'../hooks/useAxiosPrivate';import{substring_sessionStorage,createFinalScoreElement,sessionStorage_inputType,sessionStorage_lastPlayer,sessionStorage_gnadenwurf,id_playerTable,id_bottomTable,id_upperTable,clearSessionStorage,sessionStorage_session}from'./utils';import{possibleEntries_upperTable,possibleEntries_bottomTable}from'./PossibleEntries';import{DragDropContext,Draggable,Droppable}from'react-beautiful-dnd';import Loader from'../components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Games(){var _session$List_Players5,_session$List_Players6,_session$List_Players7;var navigate=useNavigate();var tableRef=useRef(null);var axiosPrivate=useAxiosPrivate();var _useState=useState([]),_useState2=_slicedToArray(_useState,1),columnsSum=_useState2[0];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,1),tableColumns=_useState4[0];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),tableWidth=_useState6[0],setTableWidth=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),lastPlayerIndex=_useState8[0],setLastPlayer=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loaderVisible=_useState10[0],setLoaderVisible=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),disableFinishGame=_useState12[0],setDisableFinishGame=_useState12[1];var location=useLocation();var urlParams=new URLSearchParams(location.search);var session=JSON.parse(sessionStorage.getItem(sessionStorage_session));var start=function(){var storedDate=urlParams.get('start');if(storedDate){return new Date(storedDate);}else{var currentDate=new Date();urlParams.set('start',currentDate);var updatedURL=window.location.href.split('?')[0]+'?'+urlParams.toString();window.history.pushState({path:updatedURL},'',updatedURL);return currentDate;}}();useEffect(function(){if(tableRef.current){setTableWidth(tableRef.current.offsetWidth);}},[tableRef]);useEffect(function(){function connect(){return _connect.apply(this,arguments);}function _connect(){_connect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axiosPrivate.get('/game',{headers:{'Content-Type':'application/json'},withCredentials:true}).catch(function(){return navigate('/creategame',{replace:true});});case 2:case\"end\":return _context.stop();}},_callee);}));return _connect.apply(this,arguments);}connect();if(!session||!session.List_Players)return navigate('/creategame',{replace:true});var _iterator=_createForOfIteratorHelper(session===null||session===void 0?void 0:session.List_PlayerOrder),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var alias=_step.value;for(var i=0;(session===null||session===void 0?void 0:session.Columns)>i;i++){calculateUpperColumn(alias,i);calculateBottomColumn(alias,i);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var lastPlayer=sessionStorage.getItem(sessionStorage_lastPlayer);if(lastPlayer)setLastPlayer(Number(lastPlayer));var elements=document.getElementsByClassName('kniffelInput');if(elements){var _iterator2=_createForOfIteratorHelper(elements),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var e=_step2.value;e.addEventListener('focus',focusEvent);if(inputType===0){var _e$target;e.addEventListener('blur',(removeFocusEvent(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.closest('tr')),onblurEvent));}else{e.addEventListener('blur',removeFocusEvent);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return function(){var _iterator3=_createForOfIteratorHelper(elements),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _e$target2;var _e=_step3.value;_e.removeEventListener('focus',focusEvent);_e.removeEventListener('blur',(removeFocusEvent(_e===null||_e===void 0?void 0:(_e$target2=_e.target)===null||_e$target2===void 0?void 0:_e$target2.closest('tr')),onblurEvent));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}};},[]);var newGame=function newGame(){clearSessionStorage();navigate('/creategame',{replace:true});};var isIOS=function isIOS(){var userAgent=navigator.userAgent||window.opera;if(/iPad|iPhone|iPod/.test(userAgent)&&!window.MSStream){return true;}return false;};// __________________________________________________Gnadenwurf__________________________________________________\n// Gnadenwurf is an extra try\nvar _useState13=useState(function(){var _session$List_Players;var g=JSON.parse(sessionStorage.getItem(sessionStorage_gnadenwurf));if(g)return g;var tmp={};session===null||session===void 0?void 0:(_session$List_Players=session.List_Players)===null||_session$List_Players===void 0?void 0:_session$List_Players.map(function(p){return tmp[p.Alias]=false;});return tmp;}),_useState14=_slicedToArray(_useState13,2),gnadenwurf=_useState14[0],setGnadenwurf=_useState14[1];var handleGnadenwurfChange=function handleGnadenwurfChange(alias,checked){var g=_objectSpread({},gnadenwurf);g[alias]=checked;setGnadenwurf(g);sessionStorage.setItem(sessionStorage_gnadenwurf,JSON.stringify(g));};// __________________________________________________InputType__________________________________________________\nvar _useState15=useState(Number(sessionStorage.getItem(sessionStorage_inputType))||(session===null||session===void 0?void 0:session.InputType)),_useState16=_slicedToArray(_useState15,2),inputType=_useState16[0],setInputType=_useState16[1];var handleInputTypeChange=function handleInputTypeChange(e){var v=Number(e.target.value);sessionStorage.setItem(sessionStorage_inputType,v);setInputType(v);};// __________________________________________________TableGeneration__________________________________________________\nvar thickBorder='2px solid var(--text-color)';var upperTable_rows=[{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder,borderTop:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{style:{borderTop:thickBorder},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur Einser\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur Zweier\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur Dreier\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur Vierer\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"555\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur F\\xFCnfer\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder,borderBottom:thickBorder},children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"kniffelImage\",viewBox:\"-0.5 -0.5 1110 1110\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"30\",width:\"1050\",height:\"1050\",rx:\"157.5\",ry:\"157.5\",fill:\"none\",strokeWidth:\"60\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"555\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"844.5\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"250\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"860\",cy:\"270\",rx:\"100\",ry:\"100\",pointerEvents:\"all\"})]})]}),/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:thickBorder},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nur Sechser\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:\"gesamt\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"svg\",{height:\"13px\",viewBox:\"-0.5 -0.5 700 300\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z\",strokeMiterlimit:\"10\",pointerEvents:\"all\"})})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[\"Bonus bei 63\",/*#__PURE__*/_jsx(\"br\",{}),\"oder mehr\"]}),/*#__PURE__*/_jsx(\"td\",{children:\"plus 35\"})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder,borderBottom:thickBorder},children:[\"gesamt\",/*#__PURE__*/_jsx(\"br\",{}),\"oberer Teil\"]}),/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:thickBorder},children:/*#__PURE__*/_jsx(\"svg\",{height:\"13px\",viewBox:\"-0.5 -0.5 700 300\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z\",strokeMiterlimit:\"10\",pointerEvents:\"all\"})})})]})}];var bottomTable_rows=[{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder,borderTop:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Dreiferpasch\"})}),/*#__PURE__*/_jsx(\"td\",{style:{borderTop:thickBorder},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"alle Augen\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Viererpasch\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"alle Augen\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Full-House\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"25\",/*#__PURE__*/_jsx(\"br\",{}),\"Punkte\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Kleine Stra\\xDFe\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"30\",/*#__PURE__*/_jsx(\"br\",{}),\"Punkte\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Gro\\xDFe Stra\\xDFe\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"40\",/*#__PURE__*/_jsx(\"br\",{}),\"Punkte\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Kniffel\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"50\",/*#__PURE__*/_jsx(\"br\",{}),\"Punkte\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder,borderBottom:thickBorder},children:/*#__PURE__*/_jsx(\"label\",{children:\"Chance\"})}),/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:thickBorder},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"alle Augen\",/*#__PURE__*/_jsx(\"br\",{}),\"z\\xE4hlen\"]})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[\"gesamt\",/*#__PURE__*/_jsx(\"br\",{}),\"unterer Teil\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"svg\",{height:\"13px\",viewBox:\"-0.5 -0.5 700 300\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z\",strokeMiterlimit:\"10\",pointerEvents:\"all\"})})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder},children:[\"gesamt\",/*#__PURE__*/_jsx(\"br\",{}),\"oberer Teil\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"svg\",{height:\"13px\",viewBox:\"-0.5 -0.5 700 300\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z\",strokeMiterlimit:\"10\",pointerEvents:\"all\"})})})]})},{td:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder,borderBottom:thickBorder},children:\"Endsumme\"}),/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:thickBorder},children:/*#__PURE__*/_jsx(\"svg\",{height:\"13px\",viewBox:\"-0.5 -0.5 700 300\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z\",strokeMiterlimit:\"10\",pointerEvents:\"all\"})})})]})}];var PlayerTable=function PlayerTable(){var _session$List_PlayerO,_session$List_PlayerO2,_session$List_PlayerO3;return/*#__PURE__*/_jsx(\"table\",{id:id_playerTable,className:\"table playerTable\",style:{width:tableWidth,maxWidth:tableWidth},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderLeft:thickBorder,borderRight:thickBorder,borderTop:thickBorder},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Spieler \"}),/*#__PURE__*/_jsx(\"svg\",{onClick:function onClick(){return document.getElementById('modal-nextPlayer').showModal();},height:\"18\",viewBox:\"0 -960 960 960\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\"})})]}),session===null||session===void 0?void 0:(_session$List_PlayerO=session.List_PlayerOrder)===null||_session$List_PlayerO===void 0?void 0:_session$List_PlayerO.map(function(alias,i){var _session$List_Players2,_session$List_Players3;var player=getPlayer(alias);return/*#__PURE__*/_jsx(\"td\",{style:{borderTop:thickBorder,borderRight:thickBorder},children:/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:(lastPlayerIndex+1)%(session===null||session===void 0?void 0:(_session$List_Players2=session.List_Players)===null||_session$List_Players2===void 0?void 0:_session$List_Players2.length)===i?'bold':'',color:(lastPlayerIndex+1)%(session===null||session===void 0?void 0:(_session$List_Players3=session.List_Players)===null||_session$List_Players3===void 0?void 0:_session$List_Players3.length)===i?'rgb(0, 255, 0)':''},children:player.Name})},i);})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder,borderRight:thickBorder},children:\"Spieler gesamt\"}),session===null||session===void 0?void 0:(_session$List_PlayerO2=session.List_PlayerOrder)===null||_session$List_PlayerO2===void 0?void 0:_session$List_PlayerO2.map(function(alias,i){var player=getPlayer(alias);return/*#__PURE__*/_jsx(\"td\",{alias:player.Alias,style:{borderRight:thickBorder}},i);})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{borderLeft:thickBorder,borderRight:thickBorder,borderBottom:thickBorder},children:\"Gnadenwurf\"}),session===null||session===void 0?void 0:(_session$List_PlayerO3=session.List_PlayerOrder)===null||_session$List_PlayerO3===void 0?void 0:_session$List_PlayerO3.map(function(alias,i){var player=getPlayer(alias);return/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:thickBorder,borderRight:thickBorder},children:/*#__PURE__*/_jsx(\"input\",{className:\"checkbox\",type:\"checkbox\",checked:gnadenwurf[player.Alias],onChange:function onChange(e){return handleGnadenwurfChange(player.Alias,e.target.checked);}})},i);})]})]})});};var Table=function Table(rows,tableID){var _session$List_Players4;if(!session||!session.List_Players)return;if(columnsSum.length===0&&tableID===id_upperTable){var _iterator4=_createForOfIteratorHelper(session.List_Players),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var p=_step4.value;for(var c=0;(session===null||session===void 0?void 0:session.Columns)>c;c++){columnsSum.push({Alias:p.Alias,Column:c,Upper:0,Bottom:0,All:0});}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}if(tableColumns.length!==(session===null||session===void 0?void 0:(_session$List_Players4=session.List_Players)===null||_session$List_Players4===void 0?void 0:_session$List_Players4.length)*(session===null||session===void 0?void 0:session.Columns)*2){var _iterator5=_createForOfIteratorHelper(session===null||session===void 0?void 0:session.List_Players),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _p=_step5.value;for(var _c=0;(session===null||session===void 0?void 0:session.Columns)>_c;_c++){var tmp=JSON.parse(sessionStorage.getItem(substring_sessionStorage+_p.Alias+'_'+tableID+'_'+_c));if(!tmp||!tmp.Alias){tmp={Alias:_p.Alias,Column:_c,TableID:tableID};for(var r=0;rows.length-3>r;r++){tmp[r]=null;}}tableColumns.push(tmp);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}var columns=Array.from({length:session===null||session===void 0?void 0:session.Columns},function(_,index){return index;});return/*#__PURE__*/_jsx(\"table\",{id:tableID,className:\"table\",ref:tableRef,children:/*#__PURE__*/_jsx(\"tbody\",{children:rows.map(function(r,currentRowIndex){var _session$List_PlayerO4;return/*#__PURE__*/_jsxs(\"tr\",{className:\"row\",children:[r.td,session===null||session===void 0?void 0:(_session$List_PlayerO4=session.List_PlayerOrder)===null||_session$List_PlayerO4===void 0?void 0:_session$List_PlayerO4.map(function(alias,currentPlayerIndex){var player=getPlayer(alias);return columns.map(function(currentColumnIndex){var css={className:\"kniffelInput \".concat(inputType===1?'select':''),inputMode:'numeric',tableid:tableID,appearance:'none',column:currentColumnIndex,row:currentRowIndex,playerindex:currentPlayerIndex,alias:player.Alias,onInput:inputEvent,defaultValue:getDefaultValue(tableID,player.Alias,currentColumnIndex,currentRowIndex),style:{backgroundColor:player.Color}};var id=\"\".concat(tableID,\"_\").concat(currentRowIndex);var possibleEntries=(tableID===id_upperTable?possibleEntries_upperTable:possibleEntries_bottomTable)[currentRowIndex];var e;if(currentRowIndex<rows.length-3){if(inputType===1){e=/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},css),{},{style:{backgroundColor:player.Color,paddingLeft:isMobile&&isIOS()?'20px':''},onChange:function onChange(e){onblurEvent(e);removeFocusEvent(e);},children:[/*#__PURE__*/_jsx(\"option\",{}),possibleEntries.map(function(v){return/*#__PURE__*/_jsx(\"option\",{value:v,children:v},v);})]}));}else if(inputType===2){e=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({list:id},css),{},{onBlur:onblurEvent})),/*#__PURE__*/_jsx(\"datalist\",{id:id,children:possibleEntries.map(function(v){return/*#__PURE__*/_jsx(\"option\",{value:v},v);})})]});}else if(inputType===3){e=/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},css),{},{onBlur:onblurEvent}));}}else{e=/*#__PURE__*/_jsx(\"label\",_objectSpread({},css));return/*#__PURE__*/_jsx(\"td\",{style:{backgroundColor:player.Color,borderLeft:currentColumnIndex===0?thickBorder:'1px solid var(--text-color-light)',borderRight:currentColumnIndex===(session===null||session===void 0?void 0:session.Columns)-1?thickBorder:'1px solid var(--text-color-light)',borderBottom:currentRowIndex===rows.length-1?thickBorder:'1px solid var(--text-color-light)'},children:e},\"\".concat(currentPlayerIndex,\".\").concat(currentRowIndex,\".\").concat(currentColumnIndex));}return/*#__PURE__*/_jsx(\"td\",{style:{backgroundColor:player.Color,borderTop:currentRowIndex===0?thickBorder:'1px solid var(--text-color-light)',borderLeft:currentColumnIndex===0?thickBorder:'1px solid var(--text-color-light)',borderRight:currentColumnIndex===(session===null||session===void 0?void 0:session.Columns)-1?thickBorder:'1px solid var(--text-color-light)',borderBottom:currentRowIndex===rows.length-4?thickBorder:'1px solid var(--text-color-light)'},children:e},\"\".concat(currentPlayerIndex,\".\").concat(currentRowIndex,\".\").concat(currentColumnIndex));});})]},currentRowIndex);})})});};var getPlayer=function getPlayer(alias){var _iterator6=_createForOfIteratorHelper(session===null||session===void 0?void 0:session.List_Players),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var p=_step6.value;if(p.Alias===alias){return p;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}};var getDefaultValue=function getDefaultValue(tableID,alias,column,row){var _iterator7=_createForOfIteratorHelper(tableColumns),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var c=_step7.value;if(c.TableID===tableID&&c.Alias===alias&&c.Column===column){return c[row];}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}};// __________________________________________________Events__________________________________________________\nvar focusEvent=function focusEvent(element){var h='highlighted';var r=element.target.closest('tr');if(!r.classList.contains(h)){r.classList.add(h);}removeFocusEvent(r);};var removeFocusEvent=function removeFocusEvent(r){var h='highlighted';var u=document.getElementById(id_upperTable).rows;var _iterator8=_createForOfIteratorHelper(u),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var e=_step8.value;if(e!==r){e.classList.remove(h);}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}var b=document.getElementById(id_bottomTable).rows;var _iterator9=_createForOfIteratorHelper(b),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e2=_step9.value;if(_e2!==r){_e2.classList.remove(h);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}};var onblurEvent=function onblurEvent(element){var e=element.target;if(e){var tableID=e.getAttribute('tableid');var row=Number(e.getAttribute('row'));var column=Number(e.getAttribute('column'));var alias=e.getAttribute('alias');var playerindex=Number(e.getAttribute('playerindex'));var value=e.value;var r=(tableID===id_upperTable?possibleEntries_upperTable:possibleEntries_bottomTable)[row];if(r.includes(Number(value))||value===''){if(value){setLastPlayer(playerindex);sessionStorage.setItem(sessionStorage_lastPlayer,Number(e.getAttribute('playerIndex')));}}else{document.getElementById('modal-invalidnumber').showModal();document.getElementById('message-invalidnumber').innerText=\"\".concat(value,\" ist nicht zul\\xE4ssig!\\nZul\\xE4ssig sind: \").concat(r);e.value='';value='';}var array;var _iterator10=_createForOfIteratorHelper(tableColumns),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var c=_step10.value;if(c.TableID===tableID&&c.Alias===alias&&c.Column===column){c[row]=value;array=c;break;}}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}sessionStorage.setItem(substring_sessionStorage+alias+'_'+tableID+'_'+column,JSON.stringify(array));if(tableID===id_upperTable){calculateUpperColumn(alias,column);}else{calculateBottomColumn(alias,column);}}};var inputEvent=function inputEvent(element){var e=element.target;if(isNaN(parseFloat(e.value))||!isFinite(e.value)||e.value.length>2){e.value=e.value.slice(0,-1);}};//__________________________________________________Calculating__________________________________________________\nvar calculateUpperColumn=function calculateUpperColumn(alias,columnIndex){var column=document.getElementById(id_upperTable).querySelectorAll(\"[alias='\".concat(alias,\"'][column='\").concat(columnIndex,\"']\"));var columnCompleted=true;var sum=0;for(var i=0;6>i;i++){var n=column[i].value;if(n===''){columnCompleted=false;}else{sum+=Number(n);}}var bottomLabels=document.getElementById(id_bottomTable).querySelectorAll(\"label[alias='\".concat(alias,\"'][column='\").concat(columnIndex,\"']\"));column[6].innerText=sum;if(Boolean(columnCompleted)){sum=sum>=63?sum+35:sum;column[7].textContent=sum>=63?35:'-';column[8].textContent=sum;bottomLabels[1].textContent=sum;}else{column[7].textContent='';column[8].textContent='';bottomLabels[1].textContent='';}calculateBottomLabels(alias,columnIndex,bottomLabels);var _iterator11=_createForOfIteratorHelper(columnsSum),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var c=_step11.value;if(c.Alias===alias&&c.Column===columnIndex){c.Upper=sum;break;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}calculateScore(alias);};var calculateBottomColumn=function calculateBottomColumn(alias,columnIndex){var column=document.getElementById(id_bottomTable).querySelectorAll(\"[alias='\".concat(alias,\"'][column='\").concat(columnIndex,\"']\"));var columnCompleted=true;var sum=0;for(var i=0;7>i;i++){var n=column[i].value;if(n===''){columnCompleted=false;}else{sum+=Number(n);}}if(Boolean(columnCompleted)){column[7].textContent=sum;}else{column[7].textContent='';column[9].textContent='';}calculateBottomLabels(alias,columnIndex,document.getElementById(id_bottomTable).querySelectorAll(\"label[alias='\".concat(alias,\"'][column='\").concat(columnIndex,\"']\")));var _iterator12=_createForOfIteratorHelper(columnsSum),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var c=_step12.value;if(c.Alias===alias&&c.Column===columnIndex){c.Bottom=sum;break;}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}calculateScore(alias);};var calculateBottomLabels=function calculateBottomLabels(alias,columnIndex,bottomLabels){var up=+bottomLabels[0].textContent;var bottom=+bottomLabels[1].textContent;var sum=up+bottom;bottomLabels[2].textContent=up!==0&&bottom!==0?sum:'';var _iterator13=_createForOfIteratorHelper(columnsSum),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var c=_step13.value;if(c.Alias===alias&&c.Column===columnIndex){c.All=+bottomLabels[2].textContent;}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}};var calculateScore=function calculateScore(alias){var sum=0;var _iterator14=_createForOfIteratorHelper(columnsSum),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var c=_step14.value;if(c.Alias===alias){sum+=c.All||c.Upper+c.Bottom;}}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}document.getElementById(id_playerTable).querySelector(\"[alias='\".concat(alias,\"']\")).textContent=sum;};//__________________________________________________FinishGame/SaveResults__________________________________________________\nvar finishGame=function finishGame(){if(!askIfSurrender){var _iterator15=_createForOfIteratorHelper(columnsSum),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var element=_step15.value;if(element.All==='0'||element.All===0){document.getElementById('modal-error-finishgame').showModal();return;}}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}}document.getElementById('modal-finishgame').showModal();};var saveResults=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var playerScores,list_winnerAlias,list_winnerName,highestScore,_iterator16,_step16,_p2,v,_i,_list_winnerAlias,w,_iterator17,_step17,p,finalScores;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setDisableFinishGame(true);setLoaderVisible(true);if(!(session.List_Players.length<2)){_context2.next=4;break;}return _context2.abrupt(\"return\",navigate('/creategame',{replace:true}));case 4://____________________Players____________________\nplayerScores={};list_winnerAlias=[];//It's possible that multiple players have the same score, therefore an array\nlist_winnerName=[];highestScore=0;_iterator16=_createForOfIteratorHelper(session===null||session===void 0?void 0:session.List_Players);try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){_p2=_step16.value;v=Number(document.getElementById(id_playerTable).querySelector(\"[alias='\".concat(_p2.Alias,\"']\")).textContent);playerScores[_p2.Alias]=v;if(highestScore<v){list_winnerAlias.length=0;list_winnerAlias.push(_p2.Alias);list_winnerName.length=0;list_winnerName.push(_p2.Name);highestScore=v;}else if(v===highestScore){list_winnerAlias.push(_p2.Alias);list_winnerName.push(_p2.Name);}}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}if(askIfSurrender){list_winnerAlias.length=0;list_winnerAlias.push(askIfSurrender);}_i=0,_list_winnerAlias=list_winnerAlias;case 12:if(!(_i<_list_winnerAlias.length)){_context2.next=35;break;}w=_list_winnerAlias[_i];_iterator17=_createForOfIteratorHelper(session===null||session===void 0?void 0:session.List_Players);_context2.prev=15;_iterator17.s();case 17:if((_step17=_iterator17.n()).done){_context2.next=24;break;}p=_step17.value;if(!(p.Alias===w)){_context2.next=22;break;}p.Wins++;return _context2.abrupt(\"break\",24);case 22:_context2.next=17;break;case 24:_context2.next=29;break;case 26:_context2.prev=26;_context2.t0=_context2[\"catch\"](15);_iterator17.e(_context2.t0);case 29:_context2.prev=29;_iterator17.f();return _context2.finish(29);case 32:_i++;_context2.next=12;break;case 35://____________________Attributes____________________\nsession.LastPlayed=new Date();session.InputType=inputType;//____________________FinalScore____________________\nfinalScores=_objectSpread({PlayerScores:playerScores},createFinalScoreElement(start,session.Columns,Boolean(askIfSurrender),list_winnerAlias,playerScores));_context2.next=40;return axiosPrivate.post('/game',JSON.stringify(_objectSpread(_objectSpread({},session),{},{FinalScores:finalScores})),{headers:{'Content-Type':'application/json'},withCredentials:true}).then(function(){clearSessionStorage();navigate(\"/endscreen?sessionid=\".concat(session.id,\"&winner=\").concat(JSON.stringify(list_winnerName)),{replace:true});setLoaderVisible(false);}).catch(function(err){console.log(err);});case 40:setDisableFinishGame(false);case 41:case\"end\":return _context2.stop();}},_callee2,null,[[15,26,29,32]]);}));return function saveResults(){return _ref.apply(this,arguments);};}();// __________________________________________________Modal-Surrender__________________________________________________\nvar _useState17=useState(),_useState18=_slicedToArray(_useState17,2),askIfSurrender=_useState18[0],setAskIfSurrender=_useState18[1];//if null then dont ask, else it's the index of the 'winner'\nvar handleSurrender=function handleSurrender(){document.getElementById('modal-surrender').showModal();};var closeSurrender=function closeSurrender(){document.getElementById('modal-surrender').close();setAskIfSurrender();};// __________________________________________________Modal-Edit__________________________________________________\nvar _useState19=useState(),_useState20=_slicedToArray(_useState19,2),tmpListPlayers=_useState20[0],setTmpListPlayers=_useState20[1];var modalEditClose=function modalEditClose(){setTmpListPlayers();document.getElementById('modal-edit').close();};var modalEditSave=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:session.List_PlayerOrder=tmpListPlayers.map(function(p){return p.Alias;});session.List_Players=tmpListPlayers;if(!session.id){_context3.next=5;break;}_context3.next=5;return axiosPrivate.post('/updatelistplayers',{id:session.id,List_Players:JSON.stringify(session.List_Players)},{headers:{'Content-Type':'application/json'},withCredentials:true}).catch(function(err){console.log(err);return;});case 5:window.location.reload();case 6:case\"end\":return _context3.stop();}},_callee3);}));return function modalEditSave(){return _ref2.apply(this,arguments);};}();var modalEditShow=function modalEditShow(){setTmpListPlayers(session===null||session===void 0?void 0:session.List_PlayerOrder.map(function(alias){return getPlayer(alias);}));document.getElementById('modal-edit').showModal();};var handleOnDragEnd=function handleOnDragEnd(result){if(!result.destination)return;var tmp=_toConsumableArray(tmpListPlayers);var _tmp$splice=tmp.splice(result.source.index,1),_tmp$splice2=_slicedToArray(_tmp$splice,1),item=_tmp$splice2[0];tmp.splice(result.destination.index,0,item);setTmpListPlayers(tmp);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-surrender\",className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(\"svg\",{onClick:closeSurrender,height:\"24\",viewBox:\"0 -960 960 960\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\"})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Gewinner ausw\\xE4hlen\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:askIfSurrender?'':'none'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'22px'},children:\"Sicher, dass \".concat(session===null||session===void 0?void 0:(_session$List_Players5=session.List_Players[askIfSurrender])===null||_session$List_Players5===void 0?void 0:_session$List_Players5.Name,\" gewinnen soll?\")}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:saveResults,style:{width:'50%'},children:\"Ja\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:closeSurrender,style:{backgroundColor:'rgb(255, 0, 0)',color:'white'},children:\"Abbrechen\"})]})]}),/*#__PURE__*/_jsx(\"dl\",{children:session===null||session===void 0?void 0:(_session$List_Players6=session.List_Players)===null||_session$List_Players6===void 0?void 0:_session$List_Players6.map(function(p,i){return/*#__PURE__*/_jsx(\"dt\",{className:\"listElement\",onClick:function onClick(){return setAskIfSurrender(p.alias);},style:{padding:'10px'},children:/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'20px'},children:p.Name})},i);})})]}),/*#__PURE__*/_jsx(\"dialog\",{id:\"modal-edit\",className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',width:''},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(\"svg\",{onClick:modalEditClose,height:\"24\",viewBox:\"0 -960 960 960\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\"})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Bearbeiten\"}),tmpListPlayers&&/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleOnDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"editplayers\",children:function children(provided){return/*#__PURE__*/_jsxs(\"ul\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,style:{padding:'0'},children:[tmpListPlayers.map(function(p,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:p.Alias,index:index,children:function children(provided){return/*#__PURE__*/_jsxs(\"li\",_objectSpread(_objectSpread(_objectSpread({},provided.draggableProps),provided.dragHandleProps),{},{ref:provided.innerRef,className:\"enterNamesElement\",children:[/*#__PURE__*/_jsx(\"svg\",{style:{marginLeft:'20px',marginRight:'15px'},height:\"10px\",viewBox:\"-0.5 -0.5 741 450\",children:/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",width:\"740\",height:\"150\",rx:\"16.5\",ry:\"16.5\",pointerEvents:\"all\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"260\",width:\"740\",height:\"150\",rx:\"16.5\",ry:\"16.5\",pointerEvents:\"all\"})]})}),/*#__PURE__*/_jsx(\"input\",{defaultValue:p.Name,onChange:function onChange(e){return p.Name=e.target.value;}}),/*#__PURE__*/_jsx(\"input\",{className:isMobile?'colorbox-mobile':'colorbox-computer',type:\"color\",defaultValue:p.Color,onChange:function onChange(e){return p.Color=e.target.value;}})]}));}},p.Alias);}),provided.placeholder]}));}})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:modalEditSave,style:{width:'100%'},children:\"Speichern\"})]})}),/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-nextPlayer\",className:\"modal\",children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'22px',marginTop:'20px'},children:lastPlayerIndex===-1?'Bis jetzt war noch keiner dran!':/*#__PURE__*/_jsxs(_Fragment,{children:['\\''+(session===null||session===void 0?void 0:session.List_Players[lastPlayerIndex].Name)+'\\' war als letztes dran.',/*#__PURE__*/_jsx(\"br\",{}),'Nun kommt \\''+(session===null||session===void 0?void 0:session.List_Players[(lastPlayerIndex+1)%(session===null||session===void 0?void 0:(_session$List_Players7=session.List_Players)===null||_session$List_Players7===void 0?void 0:_session$List_Players7.length)].Name)+'\\'']})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return document.getElementById('modal-nextPlayer').close();},children:\"Ok\"})]}),/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-invalidnumber\",className:\"modal\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"message-invalidnumber\",style:{fontSize:'22px',marginTop:'20px'}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return document.getElementById('modal-invalidnumber').close();},children:\"Ok\"})]}),/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-error-finishgame\",className:\"modal\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"message-finishgame\",style:{fontSize:'22px',marginTop:'20px'},children:\"Bitte alle Werte eingeben!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{width:'100%'},onClick:function onClick(){return document.getElementById('modal-error-finishgame').close();},children:\"Verstanden\"})]}),/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-newgame\",className:\"modal\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'22px',marginTop:'20px'},children:[\"Dieses Spiel l\\xF6schen\",/*#__PURE__*/_jsx(\"br\",{}),\"und ein neues Spiel anfangen?\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:newGame,style:{width:'55%'},children:\"Ja\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return document.getElementById('modal-newgame').close();},style:{backgroundColor:'rgb(255, 0, 0)',color:'white'},children:\"Abbrechen\"})]})]}),/*#__PURE__*/_jsxs(\"dialog\",{id:\"modal-finishgame\",className:\"modal\",children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'22px',marginTop:'20px'},children:\"Spiel beenden?\"}),/*#__PURE__*/_jsx(Loader,{loaderVisible:loaderVisible}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:saveResults,disabled:disableFinishGame,style:{width:'100px',marginRight:'5px'},children:\"Ja\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return document.getElementById('modal-finishgame').close();},style:{backgroundColor:'rgb(255, 0, 0)',color:'white'},children:\"Abbrechen\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"select\",{value:inputType,onChange:handleInputTypeChange,style:{borderRadius:'10px',height:'30px',padding:'5px',marginLeft:'5px',marginRight:'10px',border:'1px solid var(--text-color)',outline:'none',color:'var(--text-color)'},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Auswahl\"},'1'),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Auswahl und Eingabe\"},'2'),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Eingabe\"},'3')]}),/*#__PURE__*/_jsx(\"svg\",{onClick:modalEditShow,width:\"25\",viewBox:\"0 -960 960 960\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleSurrender,style:{margin:'0',marginRight:'5px',background:'none',boxShadow:'none'},children:\"Aufgeben\"})]}),PlayerTable(),Table(upperTable_rows,id_upperTable),Table(bottomTable_rows,id_bottomTable),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return document.getElementById('modal-newgame').showModal();},className:\"button\",style:{width:'40%',textWrap:'nowrap',background:'none',border:'none',boxShadow:'none',height:'40px',fontSize:'17px'},children:\"Neues Spiel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:finishGame,className:\"button\",style:{width:'60%',padding:'10px',marginRight:'5px'},children:\"Spiel beenden\"})]})]});}export default Games;","map":{"version":3,"names":["React","useEffect","useState","useRef","useNavigate","useLocation","isMobile","useAxiosPrivate","substring_sessionStorage","createFinalScoreElement","sessionStorage_inputType","sessionStorage_lastPlayer","sessionStorage_gnadenwurf","id_playerTable","id_bottomTable","id_upperTable","clearSessionStorage","sessionStorage_session","possibleEntries_upperTable","possibleEntries_bottomTable","DragDropContext","Draggable","Droppable","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Games","_session$List_Players5","_session$List_Players6","_session$List_Players7","navigate","tableRef","axiosPrivate","_useState","_useState2","_slicedToArray","columnsSum","_useState3","_useState4","tableColumns","_useState5","_useState6","tableWidth","setTableWidth","_useState7","_useState8","lastPlayerIndex","setLastPlayer","_useState9","_useState10","loaderVisible","setLoaderVisible","_useState11","_useState12","disableFinishGame","setDisableFinishGame","location","urlParams","URLSearchParams","search","session","JSON","parse","sessionStorage","getItem","start","storedDate","get","Date","currentDate","set","updatedURL","window","href","split","toString","history","pushState","path","current","offsetWidth","connect","_connect","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","headers","withCredentials","catch","replace","stop","List_Players","_iterator","_createForOfIteratorHelper","List_PlayerOrder","_step","s","n","done","alias","value","i","Columns","calculateUpperColumn","calculateBottomColumn","err","e","f","lastPlayer","Number","elements","document","getElementsByClassName","_iterator2","_step2","addEventListener","focusEvent","inputType","_e$target","removeFocusEvent","target","closest","onblurEvent","_iterator3","_step3","_e$target2","removeEventListener","newGame","isIOS","userAgent","navigator","opera","test","MSStream","_useState13","_session$List_Players","g","tmp","map","p","Alias","_useState14","gnadenwurf","setGnadenwurf","handleGnadenwurfChange","checked","_objectSpread","setItem","stringify","_useState15","InputType","_useState16","setInputType","handleInputTypeChange","v","thickBorder","upperTable_rows","td","children","style","borderLeft","borderTop","className","viewBox","x","y","width","height","rx","ry","fill","strokeWidth","pointerEvents","cx","cy","borderBottom","d","strokeMiterlimit","bottomTable_rows","PlayerTable","_session$List_PlayerO","_session$List_PlayerO2","_session$List_PlayerO3","id","maxWidth","borderRight","onClick","getElementById","showModal","_session$List_Players2","_session$List_Players3","player","getPlayer","fontWeight","length","color","Name","type","onChange","Table","rows","tableID","_session$List_Players4","_iterator4","_step4","c","push","Column","Upper","Bottom","All","_iterator5","_step5","TableID","r","columns","Array","from","_","index","ref","currentRowIndex","_session$List_PlayerO4","currentPlayerIndex","currentColumnIndex","css","concat","inputMode","tableid","appearance","column","row","playerindex","onInput","inputEvent","defaultValue","getDefaultValue","backgroundColor","Color","possibleEntries","paddingLeft","list","onBlur","_iterator6","_step6","_iterator7","_step7","element","h","classList","contains","add","u","_iterator8","_step8","remove","b","_iterator9","_step9","getAttribute","includes","innerText","array","_iterator10","_step10","isNaN","parseFloat","isFinite","slice","columnIndex","querySelectorAll","columnCompleted","sum","bottomLabels","Boolean","textContent","calculateBottomLabels","_iterator11","_step11","calculateScore","_iterator12","_step12","up","bottom","_iterator13","_step13","_iterator14","_step14","querySelector","finishGame","askIfSurrender","_iterator15","_step15","saveResults","_ref","_callee2","playerScores","list_winnerAlias","list_winnerName","highestScore","_iterator16","_step16","_p2","_i","_list_winnerAlias","w","_iterator17","_step17","finalScores","_callee2$","_context2","abrupt","Wins","t0","finish","LastPlayed","PlayerScores","post","FinalScores","then","console","log","_useState17","_useState18","setAskIfSurrender","handleSurrender","closeSurrender","close","_useState19","_useState20","tmpListPlayers","setTmpListPlayers","modalEditClose","modalEditSave","_ref2","_callee3","_callee3$","_context3","reload","modalEditShow","handleOnDragEnd","result","destination","_toConsumableArray","_tmp$splice","splice","source","_tmp$splice2","item","display","justifyContent","fontSize","padding","flexDirection","onDragEnd","droppableId","provided","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","marginLeft","marginRight","placeholder","marginTop","disabled","borderRadius","border","outline","margin","background","boxShadow","textWrap"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/pages/Game.js"],"sourcesContent":["\r\n\r\nimport '../App.css'\r\nimport './css/Game.css'\r\n\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport { useNavigate, useLocation } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\nimport useAxiosPrivate from '../hooks/useAxiosPrivate'\r\nimport { substring_sessionStorage, createFinalScoreElement, sessionStorage_inputType, sessionStorage_lastPlayer, sessionStorage_gnadenwurf, id_playerTable, id_bottomTable, id_upperTable, clearSessionStorage, sessionStorage_session } from './utils'\r\nimport { possibleEntries_upperTable, possibleEntries_bottomTable} from './PossibleEntries'\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd'\r\nimport Loader from '../components/Loader'\r\n\r\n\r\n\r\n\r\n\r\nfunction Games() {\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst tableRef = useRef(null)\r\n\tconst axiosPrivate = useAxiosPrivate()\r\n\r\n\tconst [ columnsSum ] = useState([])\r\n\tconst [ tableColumns ] = useState([])\r\n\tconst [ tableWidth, setTableWidth ] = useState(0)\r\n\tconst [ lastPlayerIndex, setLastPlayer ] = useState(-1)\r\n\tconst [ loaderVisible, setLoaderVisible ] = useState(false)\r\n\tconst [ disableFinishGame, setDisableFinishGame ] = useState(false)\r\n\r\n\tconst location = useLocation()\r\n\tconst urlParams = new URLSearchParams(location.search)\r\n\tconst session = JSON.parse(sessionStorage.getItem(sessionStorage_session))\r\n\r\n\tconst start = (function() {\r\n\t\tconst storedDate = urlParams.get('start')\r\n\t\tif (storedDate) {\r\n\t\t\treturn new Date(storedDate)\r\n\t\t} else {\r\n\t\t\tconst currentDate = new Date()\r\n\t\t\turlParams.set('start', currentDate)\r\n\t\t\tconst updatedURL = window.location.href.split('?')[0] + '?' + urlParams.toString()\r\n\t\t\twindow.history.pushState({ path: updatedURL }, '', updatedURL)\r\n\t\t\treturn currentDate\r\n\t\t}\r\n\t})()\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n\tuseEffect(() => {if(tableRef.current) {setTableWidth(tableRef.current.offsetWidth)}}, [tableRef])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tasync function connect() {\r\n\t\t\tawait axiosPrivate.get('/game',\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t}\r\n\t\t\t).catch(() => {\r\n\t\t\t\treturn navigate('/creategame', { replace: true })\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconnect()\r\n\t\tif(!session || !session.List_Players ) return navigate('/creategame', { replace: true })\r\n\r\n\t\tfor(const alias of session?.List_PlayerOrder) {\r\n\t\t\tfor(let i = 0; session?.Columns > i; i++) {\r\n\t\t\t\tcalculateUpperColumn(alias, i)\r\n\t\t\t\tcalculateBottomColumn(alias, i)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconst lastPlayer = sessionStorage.getItem(sessionStorage_lastPlayer)\r\n\t\tif(lastPlayer) setLastPlayer(Number(lastPlayer))\r\n\r\n\t\tconst elements = document.getElementsByClassName('kniffelInput')\r\n\t\tif (elements) {\r\n\t\t\tfor(const e of elements) {\r\n\t\t\t\te.addEventListener('focus', focusEvent)\r\n\t\t\t\tif(inputType === 0) {\r\n\t\t\t\t\te.addEventListener('blur', (removeFocusEvent(e?.target?.closest('tr')), onblurEvent))\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.addEventListener('blur', removeFocusEvent)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tfor(const e of elements) {\r\n\t\t\t\te.removeEventListener('focus', focusEvent)\r\n\t\t\t\te.removeEventListener('blur', (removeFocusEvent(e?.target?.closest('tr')), onblurEvent))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\tconst newGame = () => {\r\n\t\r\n\t\tclearSessionStorage()\r\n\t\tnavigate('/creategame', { replace: true })\r\n\t\r\n\t}\r\n\r\n\tconst isIOS = () => {\r\n\r\n\t\tlet userAgent = navigator.userAgent || window.opera\r\n\t\tif (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {return true}\r\n\t\treturn false\r\n\t\r\n\t}\r\n\r\n\r\n\t// __________________________________________________Gnadenwurf__________________________________________________\r\n\t// Gnadenwurf is an extra try\r\n\r\n\tconst [gnadenwurf, setGnadenwurf] = useState(() => {\r\n\t\tconst g = JSON.parse(sessionStorage.getItem(sessionStorage_gnadenwurf))\r\n\t\tif(g) return g\r\n\t\tconst tmp = {}\r\n\t\tsession?.List_Players?.map((p) => (\r\n\t\t\ttmp[p.Alias] = false\r\n\t\t))\r\n\t\treturn tmp\r\n\t})\r\n  \r\n\tconst handleGnadenwurfChange = (alias, checked) => {\r\n\r\n\t\tconst g = {...gnadenwurf}\r\n\t\tg[alias] = checked\r\n\t\tsetGnadenwurf(g)\r\n\t\tsessionStorage.setItem(sessionStorage_gnadenwurf, JSON.stringify(g))\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\r\n\r\n\t// __________________________________________________InputType__________________________________________________\r\n\r\n\tconst [ inputType, setInputType ] = useState(Number(sessionStorage.getItem(sessionStorage_inputType)) || session?.InputType)\r\n\r\n\tconst handleInputTypeChange = (e) => {\r\n\r\n\t\tconst v = Number(e.target.value)\r\n\t\tsessionStorage.setItem(sessionStorage_inputType, v)\r\n\t\tsetInputType(v)\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t// __________________________________________________TableGeneration__________________________________________________\r\n\r\n\tconst thickBorder = '2px solid var(--text-color)'\r\n\r\n\tconst upperTable_rows = [\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderTop: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td style={{ borderTop: thickBorder }}><label>Nur Einser<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><label>Nur Zweier<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><label>Nur Dreier<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><label>Nur Vierer<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='555' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><label>Nur Fnfer<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderBottom: thickBorder }}>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='860' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='860' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t\t<svg className='kniffelImage' viewBox='-0.5 -0.5 1110 1110'><rect x='30' y='30' width='1050' height='1050' rx='157.5' ry='157.5' fill='none' strokeWidth='60' pointerEvents='all'/><ellipse cx='860' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='555' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='844.5' rx='100' ry='100' pointerEvents='all'/><ellipse cx='250' cy='270' rx='100' ry='100' pointerEvents='all'/><ellipse cx='860' cy='270' rx='100' ry='100' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td style={{ borderBottom: thickBorder }}><label>Nur Sechser<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>gesamt</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<svg height='13px' viewBox='-0.5 -0.5 700 300'><path d='M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z' strokeMiterlimit='10' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>Bonus bei 63<br/>oder mehr</td>\r\n\t\t\t\t<td>plus 35</td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderBottom: thickBorder }}>gesamt<br/>oberer Teil</td>\r\n\t\t\t\t<td style={{ borderBottom: thickBorder }}>\r\n\t\t\t\t\t<svg height='13px' viewBox='-0.5 -0.5 700 300'><path d='M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z' strokeMiterlimit='10' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t</>\r\n\t\t}\r\n\t]\r\n\r\n\tconst bottomTable_rows = [\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderTop: thickBorder }}><label>Dreiferpasch</label></td>\r\n\t\t\t\t<td style={{ borderTop: thickBorder }}><label>alle Augen<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}><label>Viererpasch</label></td>\r\n\t\t\t\t<td><label>alle Augen<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}><label>Full-House</label></td>\r\n\t\t\t\t<td><label>25<br/>Punkte</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}><label>Kleine Strae</label></td>\r\n\t\t\t\t<td><label>30<br/>Punkte</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}><label>Groe Strae</label></td>\r\n\t\t\t\t<td><label>40<br/>Punkte</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}><label>Kniffel</label></td>\r\n\t\t\t\t<td><label>50<br/>Punkte</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderBottom: thickBorder }}><label>Chance</label></td>\r\n\t\t\t\t<td style={{ borderBottom: thickBorder }}><label>alle Augen<br/>zhlen</label></td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>gesamt<br/>unterer Teil</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<svg height='13px' viewBox='-0.5 -0.5 700 300'><path d='M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z' strokeMiterlimit='10' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder }}>gesamt<br/>oberer Teil</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<svg height='13px' viewBox='-0.5 -0.5 700 300'><path d='M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z' strokeMiterlimit='10' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t</>\r\n\t\t},\r\n\t\t{ td:\r\n\t\t\t<>\r\n\t\t\t\t<td style={{ borderLeft: thickBorder, borderBottom: thickBorder }}>Endsumme</td>\r\n\t\t\t\t<td style={{ borderBottom: thickBorder }}>\r\n\t\t\t\t\t<svg height='13px' viewBox='-0.5 -0.5 700 300'><path d='M 0.5 197 L 0.5 101 L 483.49 101 L 483.49 0.5 L 699.5 149 L 483.49 297.5 L 483.49 197 Z' strokeMiterlimit='10' pointerEvents='all'/></svg>\r\n\t\t\t\t</td>\r\n\t\t\t</>\r\n\t\t}\r\n\t]\r\n\r\n\tconst PlayerTable = () => {\r\n\r\n\t\treturn (\r\n\t\t\t<table id={id_playerTable} className='table playerTable' style={{ width: tableWidth, maxWidth: tableWidth }}>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td style={{ borderLeft: thickBorder, borderRight: thickBorder, borderTop: thickBorder }}>\r\n\t\t\t\t\t\t\t<span>Spieler </span>\r\n\t\t\t\t\t\t\t<svg onClick={() => document.getElementById('modal-nextPlayer').showModal()} height='18' viewBox='0 -960 960 960'><path d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z'/></svg>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t{session?.List_PlayerOrder?.map((alias, i) => {\r\n\t\t\t\t\t\t\tconst player = getPlayer(alias)\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<td key={i} style={{ borderTop: thickBorder, borderRight: thickBorder }}>\r\n\t\t\t\t\t\t\t\t\t<span style={{ \r\n\t\t\t\t\t\t\t\t\t\tfontWeight: (( lastPlayerIndex + 1 ) % session?.List_Players?.length) === i ? 'bold' : '',\r\n\t\t\t\t\t\t\t\t\t\tcolor: (( lastPlayerIndex + 1 ) % session?.List_Players?.length) === i ? 'rgb(0, 255, 0)' : '',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{player.Name}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td style={{ borderLeft: thickBorder, borderRight: thickBorder }}>Spieler gesamt</td>\r\n\t\t\t\t\t\t{session?.List_PlayerOrder?.map((alias, i) => {\r\n\t\t\t\t\t\t\tconst player = getPlayer(alias)\r\n\t\t\t\t\t\t\treturn (<td key={i} alias={player.Alias} style={{ borderRight: thickBorder }} />)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td style={{ borderLeft: thickBorder, borderRight: thickBorder, borderBottom: thickBorder }}>Gnadenwurf</td>\r\n\t\t\t\t\t\t{session?.List_PlayerOrder?.map((alias, i) => {\r\n\t\t\t\t\t\t\tconst player = getPlayer(alias)\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<td \r\n\t\t\t\t\t\t\t\t\tkey={i} \r\n\t\t\t\t\t\t\t\t\tstyle={{ borderBottom: thickBorder, borderRight: thickBorder }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\tclassName='checkbox' \r\n\t\t\t\t\t\t\t\t\t\ttype='checkbox' \r\n\t\t\t\t\t\t\t\t\t\tchecked={gnadenwurf[player.Alias]} \r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleGnadenwurfChange(player.Alias, e.target.checked)} \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tconst Table = (rows, tableID) => {\r\n\r\n\t\tif(!session || !session.List_Players) return\r\n\t\tif(columnsSum.length === 0 && tableID === id_upperTable) {\r\n\t\t\tfor(const p of session.List_Players) {\r\n\t\t\t\tfor(let c = 0; session?.Columns > c; c++) {\r\n\t\t\t\t\tcolumnsSum.push({Alias: p.Alias, Column: c, Upper: 0, Bottom: 0, All: 0})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(tableColumns.length !== ( session?.List_Players?.length * session?.Columns * 2 ))\r\n\t\tfor(const p of session?.List_Players) {\r\n\t\t\tfor(let c = 0; session?.Columns > c; c++) {\r\n\r\n\t\t\t\tlet tmp = JSON.parse(sessionStorage.getItem(substring_sessionStorage + p.Alias + '_' + tableID + '_' + c))\r\n\t\t\t\tif(!tmp || !tmp.Alias) {\r\n\t\t\t\t\ttmp = {\r\n\t\t\t\t\t\tAlias: p.Alias,\r\n\t\t\t\t\t\tColumn: c,\r\n\t\t\t\t\t\tTableID: tableID,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor(let r = 0; rows.length - 3 > r; r++) {\r\n\t\t\t\t\t\ttmp[r] = null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttableColumns.push(tmp)\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst columns = Array.from({ length: session?.Columns }, (_, index) => index)\r\n\r\n\t\treturn (\r\n\t\t\t<table id={tableID} className='table' ref={tableRef}>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{rows.map((r, currentRowIndex) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={currentRowIndex} className='row'>\r\n\t\t\t\t\t\t\t\t{r.td}\r\n\t\t\t\t\t\t\t\t{session?.List_PlayerOrder?.map((alias, currentPlayerIndex) => {\r\n\t\t\t\t\t\t\t\t\tconst player = getPlayer(alias)\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\tcolumns.map((currentColumnIndex) => {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconst css = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: `kniffelInput ${inputType === 1 ? 'select' : ''}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tinputMode: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttableid: tableID,\r\n\t\t\t\t\t\t\t\t\t\t\t\tappearance: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolumn: currentColumnIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\trow: currentRowIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplayerindex: currentPlayerIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\talias: player.Alias,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonInput: inputEvent,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: getDefaultValue( tableID, player.Alias, currentColumnIndex, currentRowIndex ),\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: { backgroundColor: player.Color },\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconst id = `${tableID}_${currentRowIndex}`\r\n\t\t\t\t\t\t\t\t\t\t\tconst possibleEntries = (tableID === id_upperTable ? possibleEntries_upperTable : possibleEntries_bottomTable)[currentRowIndex]\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tlet e\r\n\t\t\t\t\t\t\t\t\t\t\tif(currentRowIndex < rows.length - 3) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(inputType === 1) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te = <select {...css} style={{ backgroundColor: player.Color, paddingLeft: isMobile && isIOS() ? '20px' : '' }} onChange={(e) => {onblurEvent(e); removeFocusEvent(e)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{possibleEntries.map((v) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={v} value={v}>{v}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if(inputType === 2) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te = <>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input list={id} {...css} onBlur={onblurEvent}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id={id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{possibleEntries.map((v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={v} value={v}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if(inputType === 3) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te = <input {...css} onBlur={onblurEvent}/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\te = <label {...css}/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${currentPlayerIndex}.${currentRowIndex}.${currentColumnIndex}`} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: player.Color, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: currentColumnIndex === 0 ? thickBorder : '1px solid var(--text-color-light)', \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: currentColumnIndex === session?.Columns -1 ? thickBorder : '1px solid var(--text-color-light)',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: currentRowIndex === rows.length - 1 ? thickBorder : '1px solid var(--text-color-light)',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${currentPlayerIndex}.${currentRowIndex}.${currentColumnIndex}`} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: player.Color, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderTop: currentRowIndex === 0 ? thickBorder : '1px solid var(--text-color-light)', \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: currentColumnIndex === 0 ? thickBorder : '1px solid var(--text-color-light)', \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: currentColumnIndex === session?.Columns -1 ? thickBorder : '1px solid var(--text-color-light)',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: currentRowIndex === rows.length - 4 ? thickBorder : '1px solid var(--text-color-light)', \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tconst getPlayer = (alias) => {\r\n\r\n\t\tfor(const p of session?.List_Players) {\r\n\t\t\tif(p.Alias === alias) {\r\n\t\t\t\treturn p\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst getDefaultValue = (tableID, alias, column, row) => {\r\n\t\tfor(const c of tableColumns) {\r\n\t\t\tif(c.TableID === tableID && c.Alias === alias && c.Column === column) {\r\n\t\t\t\treturn c[row]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t// __________________________________________________Events__________________________________________________\r\n\r\n\tconst focusEvent = (element) => {\r\n\r\n\t\tconst h = 'highlighted'\r\n\t\r\n\t\tconst r = element.target.closest('tr')\r\n\t\tif(!r.classList.contains(h)) {\r\n\t\t\tr.classList.add(h)\r\n\t\t}\r\n\t\r\n\t\tremoveFocusEvent(r)\r\n\r\n\t}\r\n\t\r\n\tconst removeFocusEvent = (r) => {\r\n\t\r\n\t\tconst h = 'highlighted'\r\n\t\r\n\t\tconst u = document.getElementById(id_upperTable).rows\r\n\t\tfor(const e of u) {\r\n\t\t\tif(e !== r) {e.classList.remove(h)}\r\n\t\t}\r\n\t\r\n\t\tconst b = document.getElementById(id_bottomTable).rows\r\n\t\tfor(const e of b) {\r\n\t\t\tif(e !== r) {e.classList.remove(h)}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tconst onblurEvent = (element) => {\r\n\r\n\t\tconst e = element.target\r\n\t\tif(e) {\r\n\t\t\tconst tableID = e.getAttribute('tableid')\r\n\t\t\tconst row = Number(e.getAttribute('row'))\r\n\t\t\tconst column = Number(e.getAttribute('column'))\r\n\t\t\tconst alias = e.getAttribute('alias')\r\n\t\t\tconst playerindex = Number(e.getAttribute('playerindex'))\r\n\r\n\t\t\tlet value = e.value\r\n\t\t\tconst r = (tableID === id_upperTable ? possibleEntries_upperTable : possibleEntries_bottomTable)[row]\r\n\r\n\t\t\tif(r.includes(Number(value)) || value === '') {\r\n\t\t\t\t\r\n\t\t\t\tif(value) {\r\n\t\t\t\t\tsetLastPlayer(playerindex)\r\n\t\t\t\t\tsessionStorage.setItem(sessionStorage_lastPlayer, Number(e.getAttribute('playerIndex')))\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tdocument.getElementById('modal-invalidnumber').showModal()\r\n\t\t\t\tdocument.getElementById('message-invalidnumber').innerText = `${value} ist nicht zulssig!\\nZulssig sind: ${r}`\r\n\r\n\t\t\t\te.value = ''\r\n\t\t\t\tvalue = ''\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet array\r\n\t\t\tfor(const c of tableColumns) {\r\n\t\t\t\tif(c.TableID === tableID && c.Alias === alias && c.Column === column) {\r\n\t\t\t\t\tc[row] = value\r\n\t\t\t\t\tarray = c\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsessionStorage.setItem(substring_sessionStorage + alias + '_' + tableID + '_' + column, JSON.stringify(array))\r\n\r\n\t\t\tif(tableID === id_upperTable) {\r\n\t\t\t\tcalculateUpperColumn(alias, column)\r\n\t\t\t} else {\r\n\t\t\t\tcalculateBottomColumn(alias, column)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst inputEvent = (element) => {\r\n\r\n\t\tconst e = element.target\r\n\t\tif (isNaN(parseFloat(e.value)) || !isFinite(e.value) || e.value.length > 2) {\r\n\t\t\te.value = e.value.slice(0, -1)\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t//__________________________________________________Calculating__________________________________________________\r\n\t\r\n\tconst calculateUpperColumn = (alias, columnIndex) => {\r\n\t\r\n\t\tconst column = document.getElementById(id_upperTable).querySelectorAll(`[alias='${alias}'][column='${columnIndex}']`)\r\n\t\r\n\t\tlet columnCompleted = true\r\n\t\tlet sum = 0\r\n\t\r\n\t\tfor(let i = 0; 6 > i; i++) {\r\n\t\r\n\t\t\tconst n = column[i].value\r\n\t\t\tif(n === '') {\r\n\t\t\t\tcolumnCompleted = false\r\n\t\t\t} else {\r\n\t\t\t\tsum += Number(n)\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t\tconst bottomLabels = document.getElementById(id_bottomTable).querySelectorAll(`label[alias='${alias}'][column='${columnIndex}']`)\r\n\t\tcolumn[6].innerText = sum\r\n\t\tif(Boolean(columnCompleted)) {\r\n\t\r\n\t\t\tsum = sum >= 63 ? sum + 35 : sum\r\n\t\t\tcolumn[7].textContent = sum >= 63 ? 35 : '-'\r\n\t\t\tcolumn[8].textContent = sum\r\n\t\t\t\r\n\t\t\tbottomLabels[1].textContent = sum\r\n\t\t\t\r\n\t\t} else {\r\n\t\r\n\t\t\tcolumn[7].textContent = ''\r\n\t\t\tcolumn[8].textContent = ''\r\n\t\t\tbottomLabels[1].textContent = ''\r\n\t\r\n\t\t}\r\n\t\r\n\t\tcalculateBottomLabels(alias, columnIndex, bottomLabels)\r\n\t\tfor(const c of columnsSum) {\r\n\t\t\tif(c.Alias === alias && c.Column === columnIndex) {\r\n\t\t\t\tc.Upper = sum\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tcalculateScore(alias)\r\n\t\r\n\t}\r\n\t\r\n\tconst calculateBottomColumn = (alias, columnIndex) => {\r\n\t\r\n\t\tconst column = document.getElementById(id_bottomTable).querySelectorAll(`[alias='${alias}'][column='${columnIndex}']`)\r\n\t\r\n\t\tlet columnCompleted = true\r\n\t\tlet sum = 0\r\n\t\r\n\t\tfor(let i = 0; 7 > i; i++) {\r\n\t\r\n\t\t\tconst n = column[i].value\r\n\t\t\tif(n === '') {\r\n\t\t\t\tcolumnCompleted = false\r\n\t\t\t} else {\r\n\t\t\t\tsum += Number(n)\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t\tif(Boolean(columnCompleted)) {\r\n\t\r\n\t\t\tcolumn[7].textContent = sum\r\n\t\t\t\r\n\t\t} else {\r\n\t\r\n\t\t\tcolumn[7].textContent = ''\r\n\t\t\tcolumn[9].textContent = ''\r\n\t\r\n\t\t}\r\n\t\r\n\t\tcalculateBottomLabels(alias, columnIndex, document.getElementById(id_bottomTable).querySelectorAll(`label[alias='${alias}'][column='${columnIndex}']`))\r\n\t\tfor(const c of columnsSum) {\r\n\t\t\tif(c.Alias === alias && c.Column === columnIndex) {\r\n\t\t\t\tc.Bottom = sum\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tcalculateScore(alias)\r\n\t\r\n\t}\r\n\t\r\n\tconst calculateBottomLabels = (alias, columnIndex, bottomLabels) => {\r\n\t\r\n\t\tconst up = +bottomLabels[0].textContent\r\n\t\tconst bottom = +bottomLabels[1].textContent\r\n\t\tconst sum = up + bottom\r\n\t\r\n\t\tbottomLabels[2].textContent = up !== 0 && bottom !== 0 ? sum : ''\r\n\t\tfor(const c of columnsSum) {\r\n\t\t\tif(c.Alias === alias && c.Column === columnIndex) {\r\n\t\t\t\tc.All = +bottomLabels[2].textContent\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tconst calculateScore = (alias) => {\r\n\r\n\t\tlet sum = 0\r\n\r\n\t\tfor(const c of columnsSum) {\r\n\t\t\tif(c.Alias === alias) {\r\n\t\t\t\tsum += c.All || (c.Upper + c.Bottom)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.getElementById(id_playerTable).querySelector(`[alias='${alias}']`).textContent = sum\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t//__________________________________________________FinishGame/SaveResults__________________________________________________\r\n\r\n\tconst finishGame = () => {\r\n\t\r\n\t\tif(!askIfSurrender) {\r\n\t\t\tfor(const element of columnsSum) {\r\n\t\t\t\tif(element.All === '0' || element.All === 0) {\r\n\t\t\t\t\tdocument.getElementById('modal-error-finishgame').showModal()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.getElementById('modal-finishgame').showModal()\r\n\r\n\t}\r\n\t\r\n\tconst saveResults = async () => {\r\n\t\t\r\n\t\tsetDisableFinishGame(true)\r\n\t\tsetLoaderVisible(true)\r\n\t\tif(session.List_Players.length < 2) return navigate('/creategame', { replace: true })\r\n\r\n\t\t//____________________Players____________________\r\n\t\tconst playerScores = {}\t\r\n\t\tconst list_winnerAlias = [] //It's possible that multiple players have the same score, therefore an array\r\n\t\tconst list_winnerName = []\r\n\r\n\t\tlet highestScore = 0\r\n\t\tfor(const p of session?.List_Players) {\r\n\r\n\t\t\tconst v = Number(document.getElementById(id_playerTable).querySelector(`[alias='${p.Alias}']`).textContent)\r\n\t\t\tplayerScores[p.Alias] = v\r\n\t\t\tif(highestScore < v) {\r\n\t\t\t\tlist_winnerAlias.length = 0\r\n\t\t\t\tlist_winnerAlias.push(p.Alias)\r\n\t\t\t\tlist_winnerName.length = 0\r\n\t\t\t\tlist_winnerName.push(p.Name)\r\n\t\t\t\thighestScore = v\r\n\t\t\t} else if(v === highestScore) {\r\n\t\t\t\tlist_winnerAlias.push(p.Alias)\r\n\t\t\t\tlist_winnerName.push(p.Name)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif(askIfSurrender) {\r\n\t\t\tlist_winnerAlias.length = 0\r\n\t\t\tlist_winnerAlias.push(askIfSurrender)\r\n\t\t}\r\n\t\r\n\t\tfor(const w of list_winnerAlias) {\r\n\t\t\tfor(const p of session?.List_Players) {\r\n\t\t\t\tif(p.Alias === w) {\r\n\t\t\t\t\tp.Wins++\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\r\n\t\t//____________________Attributes____________________\r\n\t\tsession.LastPlayed = new Date()\r\n\t\tsession.InputType = inputType\r\n\t\r\n\t\r\n\t\t//____________________FinalScore____________________\r\n\t\tconst finalScores = { \r\n\t\t\tPlayerScores: playerScores, \r\n\t\t\t...createFinalScoreElement(start, session.Columns, Boolean(askIfSurrender), list_winnerAlias, playerScores) \r\n\t\t}\r\n\r\n\t\tawait axiosPrivate.post('/game',\r\n\t\t\tJSON.stringify({ \r\n\t\t\t\t...session,\r\n\t\t\t\tFinalScores: finalScores\r\n\t\t\t}),\r\n\t\t\t{\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\twithCredentials: true\r\n\t\t\t}\r\n\t\t).then(() => {\r\n\t\r\n\t\t\tclearSessionStorage()\r\n\t\t\tnavigate(`/endscreen?sessionid=${session.id}&winner=${JSON.stringify(list_winnerName)}`, { replace: true })\r\n\t\t\tsetLoaderVisible(false)\r\n\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t\tsetDisableFinishGame(false)\r\n\t\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\r\n\t// __________________________________________________Modal-Surrender__________________________________________________\r\n\r\n\tconst [askIfSurrender, setAskIfSurrender] = useState()\t//if null then dont ask, else it's the index of the 'winner'\r\n\r\n\tconst handleSurrender = () => {document.getElementById('modal-surrender').showModal()}\r\n\r\n\tconst closeSurrender = () => {\r\n\t\tdocument.getElementById('modal-surrender').close()\r\n\t\tsetAskIfSurrender()\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t// __________________________________________________Modal-Edit__________________________________________________\r\n\r\n\tconst [ tmpListPlayers, setTmpListPlayers ] = useState()\r\n\r\n\tconst modalEditClose = () => {\r\n\t\tsetTmpListPlayers()\r\n\t\tdocument.getElementById('modal-edit').close()\r\n\t}\r\n\r\n\tconst modalEditSave = async () => {\r\n\r\n\t\tsession.List_PlayerOrder = tmpListPlayers.map((p) => p.Alias)\r\n\t\tsession.List_Players = tmpListPlayers\r\n\r\n\t\tif(session.id) {\r\n\r\n\t\t\tawait axiosPrivate.post('/updatelistplayers',\r\n\t\t\t\t{ id: session.id, List_Players: JSON.stringify(session.List_Players) },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t}\r\n\t\t\t).catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\treturn\r\n\t\t\t})\r\n\t\t}\r\n\t\twindow.location.reload()\r\n\r\n\t}\r\n\r\n\tconst modalEditShow = () => {\r\n\r\n\t\tsetTmpListPlayers(session?.List_PlayerOrder.map((alias) => getPlayer(alias)))\r\n\t\tdocument.getElementById('modal-edit').showModal()\r\n\r\n\t}\r\n\r\n\tconst handleOnDragEnd = (result) => {\r\n\r\n\t\tif(!result.destination) return\r\n\t\tconst tmp = [...tmpListPlayers]\r\n\t\tconst [item] = tmp.splice(result.source.index, 1)\r\n\t\ttmp.splice(result.destination.index, 0, item)\r\n\r\n\t\tsetTmpListPlayers(tmp)\r\n\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\r\n\t\t\t{/* __________________________________________________Dialogs__________________________________________________ */}\r\n\r\n\t\t\t<dialog id='modal-surrender' className='modal'>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n\t\t\t\t\t\t<svg onClick={closeSurrender} height='24' viewBox='0 -960 960 960'><path d='m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z'/></svg>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h1>Gewinner auswhlen</h1>\r\n\t\t\t\t<div style={{ display: askIfSurrender ? '' : 'none' }}>\r\n\t\t\t\t<label style={{ fontSize: '22px', }}>{`Sicher, dass ${session?.List_Players[askIfSurrender]?.Name} gewinnen soll?`}</label>\r\n\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\t\tonClick={saveResults}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>Ja</button>\r\n\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\t\tonClick={closeSurrender}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackgroundColor: 'rgb(255, 0, 0)',\r\n\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>Abbrechen</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<dl>\r\n\t\t\t\t\t{session?.List_Players?.map((p, i) => (\r\n\t\t\t\t\t\t<dt \r\n\t\t\t\t\t\t\tclassName='listElement' \r\n\t\t\t\t\t\t\tonClick={() => setAskIfSurrender(p.alias)} \r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tpadding: '10px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tfontSize: '20px',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>{p.Name}</label>\r\n\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</dl>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-edit' className='modal'>\r\n\t\t\t\t<div \r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\twidth: '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n\t\t\t\t\t\t<svg onClick={modalEditClose} height='24' viewBox='0 -960 960 960'><path d='m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z'/></svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h1>Bearbeiten</h1>\r\n\r\n\t\t\t\t\t{/* ______________________________ChangeNames______________________________ */}\r\n\t\t\t\t\t{/* To test the drag and drop function you have to disable/comment React.StrictMode in index.js */}\r\n\r\n\t\t\t\t\t{tmpListPlayers && <DragDropContext onDragEnd={handleOnDragEnd}>\r\n\t\t\t\t\t\t<Droppable droppableId='editplayers'>\r\n\t\t\t\t\t\t\t{(provided) => (\r\n\t\t\t\t\t\t\t\t<ul {...provided.droppableProps} ref={provided.innerRef} style={{ padding: '0' }}>\r\n\t\t\t\t\t\t\t\t\t{tmpListPlayers.map((p, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Draggable key={p.Alias} draggableId={p.Alias} index={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{(provided) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='enterNamesElement'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg style={{ marginLeft: '20px', marginRight: '15px' }} height=\"10px\" viewBox=\"-0.5 -0.5 741 450\"><g><rect x=\"0\" y=\"0\" width=\"740\" height=\"150\" rx=\"16.5\" ry=\"16.5\" pointerEvents=\"all\"/><rect x=\"0\" y=\"260\" width=\"740\" height=\"150\" rx=\"16.5\" ry=\"16.5\" pointerEvents=\"all\"/></g></svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={p.Name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => p.Name = e.target.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={isMobile ? 'colorbox-mobile' : 'colorbox-computer'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={p.Color}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => p.Color = e.target.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Draggable>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t</DragDropContext>}\r\n\r\n\t\t\t\t\t<button className='button' onClick={modalEditSave} style={{ width: '100%' }}>Speichern</button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-nextPlayer' className='modal'>\r\n\t\t\t\t<p style={{ fontSize: '22px', marginTop: '20px' }}>\r\n\t\t\t\t\t{lastPlayerIndex === -1 \r\n\t\t\t\t\t\t? 'Bis jetzt war noch keiner dran!'\r\n\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{'\\'' + session?.List_Players[lastPlayerIndex].Name + '\\' war als letztes dran.'}<br />\r\n\t\t\t\t\t\t\t\t{'Nun kommt \\'' + session?.List_Players[(lastPlayerIndex + 1) % session?.List_Players?.length].Name + '\\''}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className='button' onClick={() => document.getElementById('modal-nextPlayer').close()}>Ok</button>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-invalidnumber' className='modal'>\r\n\t\t\t\t<p id='message-invalidnumber' style={{ fontSize: '22px', marginTop: '20px' }}></p>\r\n\t\t\t\t<button className='button' onClick={() => document.getElementById('modal-invalidnumber').close()}>Ok</button>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-error-finishgame' className='modal'>\r\n\t\t\t\t<p id='message-finishgame' style={{ fontSize: '22px', marginTop: '20px' }}>\r\n\t\t\t\t\tBitte alle Werte eingeben!\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className='button' style={{ width: '100%' }} onClick={() => document.getElementById('modal-error-finishgame').close()}>Verstanden</button>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-newgame' className='modal'>\r\n\t\t\t\t<p style={{ fontSize: '22px', marginTop: '20px' }}>\r\n\t\t\t\t\tDieses Spiel lschen<br/>und ein neues Spiel anfangen?\r\n\t\t\t\t</p>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\tonClick={newGame}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '55%',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>Ja</button>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\tonClick={() => document.getElementById('modal-newgame').close()}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgb(255, 0, 0)',\r\n\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>Abbrechen</button>\r\n\t\t\t\t</div>\r\n\t\t\t</dialog>\r\n\r\n\t\t\t<dialog id='modal-finishgame' className='modal'>\r\n\t\t\t\t<p style={{ fontSize: '22px', marginTop: '20px' }}>\r\n\t\t\t\t\tSpiel beenden?\r\n\t\t\t\t</p>\r\n\t\t\t\t<Loader loaderVisible={loaderVisible}/>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\tonClick={saveResults}\r\n\t\t\t\t\t\tdisabled={disableFinishGame}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\t\tmarginRight: '5px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>Ja</button>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName='button' \r\n\t\t\t\t\t\tonClick={() => document.getElementById('modal-finishgame').close()}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgb(255, 0, 0)',\r\n\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>Abbrechen</button>\r\n\t\t\t\t</div>\r\n\t\t\t</dialog>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t{/* __________________________________________________Page__________________________________________________ */}\r\n\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t<select\r\n\t\t\t\t\tvalue={inputType}\r\n\t\t\t\t\tonChange={handleInputTypeChange}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tborderRadius: '10px',\r\n\t\t\t\t\t\theight: '30px',\r\n\t\t\t\t\t\tpadding: '5px',\r\n\t\t\t\t\t\tmarginLeft: '5px',\r\n\t\t\t\t\t\tmarginRight: '10px',\r\n\t\t\t\t\t\tborder: '1px solid var(--text-color)',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'var(--text-color)',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value={1} key='1'>Auswahl</option>\r\n\t\t\t\t\t<option value={2} key='2'>Auswahl und Eingabe</option>\r\n\t\t\t\t\t<option value={3} key='3'>Eingabe</option>\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<svg onClick={modalEditShow} width='25' viewBox=\"0 -960 960 960\" ><path d=\"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z\"/></svg>\r\n\r\n\t\t\t\t<button \r\n\t\t\t\t\tclassName='button'\r\n\t\t\t\t\tonClick={handleSurrender}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tmarginRight: '5px',\r\n\t\t\t\t\t\tbackground: 'none',\r\n\t\t\t\t\t\tboxShadow: 'none',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>Aufgeben</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{PlayerTable()}\r\n\t\t\t{Table(upperTable_rows, id_upperTable)}\r\n\t\t\t{Table(bottomTable_rows, id_bottomTable)}\r\n\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t<button \r\n\t\t\t\t\tonClick={() => document.getElementById('modal-newgame').showModal()} \r\n\t\t\t\t\tclassName='button'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '40%',\r\n\t\t\t\t\t\ttextWrap: 'nowrap',\r\n\t\t\t\t\t\tbackground: 'none',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\tboxShadow: 'none',\r\n\t\t\t\t\t\theight: '40px',\r\n\t\t\t\t\t\tfontSize: '17px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>Neues Spiel</button>\r\n\t\t\t\t<button \r\n\t\t\t\t\tonClick={finishGame}\r\n\t\t\t\t\tclassName='button'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\t\tpadding: '10px',\r\n\t\t\t\t\t\tmarginRight: '5px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>Spiel beenden</button>\r\n\t\t\t</div>\r\n\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Games\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
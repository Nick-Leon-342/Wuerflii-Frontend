{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'../api/axios';import useAuth from'./useAuth';var useRefreshToken=function useRefreshToken(){var _useAuth=useAuth(),setAuth=_useAuth.setAuth;var refresh=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/refreshtoken',{withCredentials:true});case 2:response=_context.sent;setAuth(function(prev){return _objectSpread(_objectSpread({},prev),{},{accessToken:response.data.accessToken});});return _context.abrupt(\"return\",response.data.accessToken);case 5:case\"end\":return _context.stop();}},_callee);}));return function refresh(){return _ref.apply(this,arguments);};}();return refresh;};export default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","_useAuth","setAuth","refresh","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","withCredentials","sent","_objectSpread","accessToken","data","abrupt","stop","apply","arguments"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/hooks/useRefreshToken.js"],"sourcesContent":["\r\n\r\nimport axios from '../api/axios'\r\nimport useAuth from './useAuth'\r\n\r\nconst useRefreshToken = () => {\r\n    const { setAuth } = useAuth()\r\n\r\n    const refresh = async () => {\r\n        const response = await axios.get('/refreshtoken', {\r\n            withCredentials: true\r\n        })\r\n        setAuth(prev => {\r\n            return { ...prev, accessToken: response.data.accessToken }\r\n        })\r\n        return response.data.accessToken\r\n    }\r\n    return refresh\r\n}\r\n\r\nexport default useRefreshToken\r\n"],"mappings":"kZAEA,MAAO,CAAAA,KAAK,KAAM,cAAc,CAChC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAE/B,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1B,IAAAC,QAAA,CAAoBF,OAAO,CAAC,CAAC,CAArBG,OAAO,CAAAD,QAAA,CAAPC,OAAO,CAEf,GAAM,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACW,CAAAhB,KAAK,CAACiB,GAAG,CAAC,eAAe,CAAE,CAC9CC,eAAe,CAAE,IACrB,CAAC,CAAC,QAFIP,QAAQ,CAAAG,QAAA,CAAAK,IAAA,CAGdf,OAAO,CAAC,SAAAW,IAAI,CAAI,CACZ,OAAAK,aAAA,CAAAA,aAAA,IAAYL,IAAI,MAAEM,WAAW,CAAEV,QAAQ,CAACW,IAAI,CAACD,WAAW,GAC5D,CAAC,CAAC,QAAAP,QAAA,CAAAS,MAAA,UACKZ,QAAQ,CAACW,IAAI,CAACD,WAAW,0BAAAP,QAAA,CAAAU,IAAA,MAAAd,OAAA,GACnC,kBARK,CAAAL,OAAOA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAQZ,CACD,MAAO,CAAArB,OAAO,CAClB,CAAC,CAED,cAAe,CAAAH,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import'./css/EnterNames.css';import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{createAttributes,createPlayer,sessionStorage_players,sessionStorage_attributes,sessionStorage_session}from'./utils';import{isMobile}from'react-device-detect';import useAxiosPrivate from'../hooks/useAxiosPrivate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EnterNames(){var navigate=useNavigate();var axiosPrivate=useAxiosPrivate();var players=Array.from({length:sessionStorage.getItem(sessionStorage_players)},function(_,index){return index;});var columns=sessionStorage.getItem(sessionStorage_attributes);var _useState=useState(players.map(function(p){return\"Player_\".concat(p+1);})),_useState2=_slicedToArray(_useState,2),names=_useState2[0],setNames=_useState2[1];var _useState3=useState(players.map(function(p){return p%2===0?'#ffffff':'#ADD8E6';})),_useState4=_slicedToArray(_useState3,2),colors=_useState4[0],setColors=_useState4[1];var handleNameChange=function handleNameChange(index,n){var updatedNames=_toConsumableArray(names);updatedNames[index]=n;setNames(updatedNames);};var handleColorChange=function handleColorChange(index,c){var updatedColors=_toConsumableArray(colors);updatedColors[index]=c;setColors(updatedColors);};useEffect(function(){function connect(){return _connect.apply(this,arguments);}function _connect(){_connect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axiosPrivate.get('/enternames',{headers:{'Content-Type':'application/json'},withCredentials:true}).catch(function(){navigate('/login',{replace:true});});case 2:case\"end\":return _context.stop();}},_callee);}));return _connect.apply(this,arguments);}connect();if(players.length===0||!columns||isNaN(columns)){sessionStorage.removeItem(sessionStorage_players);sessionStorage.removeItem(sessionStorage_attributes);return navigate('/creategame',{replace:true});}},[]);var play=function play(){var attributes=createAttributes(columns);var players=[];for(var i=0;names.length>i;i++){players.push(createPlayer(names[i],\"Player_\".concat(i),colors[i]));}sessionStorage.setItem(sessionStorage_session,JSON.stringify({Attributes:attributes,List_Players:players}));sessionStorage.removeItem(sessionStorage_players);sessionStorage.removeItem(sessionStorage_attributes);navigate('/game',{replace:true});};var clear=function clear(){sessionStorage.removeItem(sessionStorage_players);sessionStorage.removeItem(sessionStorage_attributes);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"dl\",{id:\"enterNamesList\",children:players.map(function(p,index){return/*#__PURE__*/_jsxs(\"dt\",{className:\"enterNamesElement\",children:[/*#__PURE__*/_jsx(\"input\",{defaultValue:names[index],onChange:function onChange(e){return handleNameChange(index,e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:isMobile?'colorbox-mobile':'colorbox-computer',type:\"color\",value:colors[index],onChange:function onChange(e){return handleColorChange(index,e.target.value);}})]},index);})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{width:'100%',marginBottom:'0px'},onClick:play,children:\"Los!\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:/*#__PURE__*/_jsx(\"p\",{className:\"link-switch\",children:/*#__PURE__*/_jsx(Link,{onClick:clear,to:\"/creategame\",children:\"Zur\\xFCck\"})})})]});}export default EnterNames;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","createAttributes","createPlayer","sessionStorage_players","sessionStorage_attributes","sessionStorage_session","isMobile","useAxiosPrivate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EnterNames","navigate","axiosPrivate","players","Array","from","length","sessionStorage","getItem","_","index","columns","_useState","map","p","concat","_useState2","_slicedToArray","names","setNames","_useState3","_useState4","colors","setColors","handleNameChange","n","updatedNames","_toConsumableArray","handleColorChange","c","updatedColors","connect","_connect","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","headers","withCredentials","catch","replace","stop","isNaN","removeItem","play","attributes","i","push","setItem","JSON","stringify","Attributes","List_Players","clear","children","id","className","defaultValue","onChange","e","target","value","type","style","width","marginBottom","onClick","display","justifyContent","to"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/pages/EnterNames.js"],"sourcesContent":["\r\n\r\nimport '../App.css'\r\nimport './css/EnterNames.css'\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { createAttributes, createPlayer, sessionStorage_players, sessionStorage_attributes, sessionStorage_session } from './utils'\r\nimport { isMobile } from 'react-device-detect'\r\nimport useAxiosPrivate from '../hooks/useAxiosPrivate'\r\n\r\n\r\nfunction EnterNames() {\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst axiosPrivate = useAxiosPrivate()\r\n\t\r\n\tconst players = Array.from({ length: sessionStorage.getItem(sessionStorage_players) }, (_, index) => index)\r\n\tconst columns = sessionStorage.getItem(sessionStorage_attributes)\r\n\r\n\tconst [names, setNames] = useState(players.map((p) => `Player_${p + 1}`))\r\n\tconst [colors, setColors] = useState(players.map((p) => (p % 2 === 0 ? '#ffffff' : '#ADD8E6')))\r\n  \r\n\r\n\r\n\r\n\r\n\tconst handleNameChange = (index, n) => {\r\n\r\n\t\tconst updatedNames = [...names]\r\n\t\tupdatedNames[index] = n\r\n\t\tsetNames(updatedNames)\r\n\r\n\t}\r\n  \r\n\tconst handleColorChange = (index, c) => {\r\n\r\n\t\tconst updatedColors = [...colors]\r\n\t\tupdatedColors[index] = c\r\n\t\tsetColors(updatedColors)\r\n\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tasync function connect() {\r\n\t\t\tawait axiosPrivate.get('/enternames',\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t}\r\n\t\t\t).catch(() => {\r\n\t\t\t\tnavigate('/login', { replace: true })\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconnect()\r\n\r\n\t\tif(players.length === 0 || !columns || isNaN(columns)) {\r\n\t\t\tsessionStorage.removeItem(sessionStorage_players)\r\n\t\t\tsessionStorage.removeItem(sessionStorage_attributes)\r\n\t\t\treturn navigate('/creategame', { replace: true })\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\r\n\r\n\r\n\r\n\tconst play = () => {\r\n\r\n\t\tconst attributes = createAttributes(columns)\r\n\t\tconst players = []\r\n\r\n\t\tfor(let i = 0; names.length > i; i++) {\r\n\t\t\tplayers.push(createPlayer(names[i], `Player_${i}`, colors[i]))\r\n\t\t}\r\n\r\n\t\tsessionStorage.setItem(sessionStorage_session, JSON.stringify({ Attributes: attributes, List_Players: players}))\r\n\t\tsessionStorage.removeItem(sessionStorage_players)\r\n\t\tsessionStorage.removeItem(sessionStorage_attributes)\r\n\r\n\t\tnavigate('/game', { replace: true })\r\n\r\n\t}\r\n\r\n\tconst clear = () => {\r\n\r\n\t\tsessionStorage.removeItem(sessionStorage_players)\r\n\t\tsessionStorage.removeItem(sessionStorage_attributes)\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\r\n\t\t\t<dl id='enterNamesList'>\r\n\t\t\t\t{players.map((p, index) => (\r\n\t\t\t\t\t<dt className='enterNamesElement' key={index}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tdefaultValue={names[index]}\r\n\t\t\t\t\t\t\tonChange={(e) => handleNameChange(index, e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={isMobile ? 'colorbox-mobile' : 'colorbox-computer'}\r\n\t\t\t\t\t\t\ttype='color'\r\n\t\t\t\t\t\t\tvalue={colors[index]}\r\n\t\t\t\t\t\t\tonChange={(e) => handleColorChange(index, e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</dt>\r\n\t\t\t\t))}\r\n\t\t\t</dl>\r\n\r\n\t\t\t<button className='button' style={{ width: '100%', marginBottom: '0px' }} onClick={play}>Los!</button>\r\n\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t<p className='link-switch'>\r\n\t\t\t\t\t<Link onClick={clear} to='/creategame'>Zur√ºck</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default EnterNames\r\n"],"mappings":"4hBAEA,MAAO,YAAY,CACnB,MAAO,sBAAsB,CAE7B,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,gBAAgB,CAAEC,YAAY,CAAEC,sBAAsB,CAAEC,yBAAyB,CAAEC,sBAAsB,KAAQ,SAAS,CACnI,OAASC,QAAQ,KAAQ,qBAAqB,CAC9C,MAAO,CAAAC,eAAe,KAAM,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGtD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAErB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAgB,YAAY,CAAGT,eAAe,CAAC,CAAC,CAEtC,GAAM,CAAAU,OAAO,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAEC,cAAc,CAACC,OAAO,CAACnB,sBAAsB,CAAE,CAAC,CAAE,SAACoB,CAAC,CAAEC,KAAK,QAAK,CAAAA,KAAK,GAAC,CAC3G,GAAM,CAAAC,OAAO,CAAGJ,cAAc,CAACC,OAAO,CAAClB,yBAAyB,CAAC,CAEjE,IAAAsB,SAAA,CAA0B5B,QAAQ,CAACmB,OAAO,CAACU,GAAG,CAAC,SAACC,CAAC,kBAAAC,MAAA,CAAeD,CAAC,CAAG,CAAC,GAAE,CAAC,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAAlEM,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAA4BpC,QAAQ,CAACmB,OAAO,CAACU,GAAG,CAAC,SAACC,CAAC,QAAM,CAAAA,CAAC,CAAG,CAAC,GAAK,CAAC,CAAG,SAAS,CAAG,SAAS,EAAC,CAAC,CAAC,CAAAO,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAxFE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAMxB,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAId,KAAK,CAAEe,CAAC,CAAK,CAEtC,GAAM,CAAAC,YAAY,CAAAC,kBAAA,CAAOT,KAAK,CAAC,CAC/BQ,YAAY,CAAChB,KAAK,CAAC,CAAGe,CAAC,CACvBN,QAAQ,CAACO,YAAY,CAAC,CAEvB,CAAC,CAED,GAAM,CAAAE,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIlB,KAAK,CAAEmB,CAAC,CAAK,CAEvC,GAAM,CAAAC,aAAa,CAAAH,kBAAA,CAAOL,MAAM,CAAC,CACjCQ,aAAa,CAACpB,KAAK,CAAC,CAAGmB,CAAC,CACxBN,SAAS,CAACO,aAAa,CAAC,CAEzB,CAAC,CAED/C,SAAS,CAAC,UAAM,SAEA,CAAAgD,OAAOA,CAAA,SAAAC,QAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,SAAA,EAAAA,QAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAtB,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAAzC,YAAY,CAAC0C,GAAG,CAAC,aAAa,CACnC,CACCC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,eAAe,CAAE,IAClB,CACD,CAAC,CAACC,KAAK,CAAC,UAAM,CACb9C,QAAQ,CAAC,QAAQ,CAAE,CAAE+C,OAAO,CAAE,IAAK,CAAC,CAAC,CACtC,CAAC,CAAC,yBAAAP,QAAA,CAAAQ,IAAA,MAAAX,OAAA,GACF,UAAAN,QAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDH,OAAO,CAAC,CAAC,CAET,GAAG5B,OAAO,CAACG,MAAM,GAAK,CAAC,EAAI,CAACK,OAAO,EAAIuC,KAAK,CAACvC,OAAO,CAAC,CAAE,CACtDJ,cAAc,CAAC4C,UAAU,CAAC9D,sBAAsB,CAAC,CACjDkB,cAAc,CAAC4C,UAAU,CAAC7D,yBAAyB,CAAC,CACpD,MAAO,CAAAW,QAAQ,CAAC,aAAa,CAAE,CAAE+C,OAAO,CAAE,IAAK,CAAC,CAAC,CAClD,CAED,CAAC,CAAE,EAAE,CAAC,CAMN,GAAM,CAAAI,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CAElB,GAAM,CAAAC,UAAU,CAAGlE,gBAAgB,CAACwB,OAAO,CAAC,CAC5C,GAAM,CAAAR,OAAO,CAAG,EAAE,CAElB,IAAI,GAAI,CAAAmD,CAAC,CAAG,CAAC,CAAEpC,KAAK,CAACZ,MAAM,CAAGgD,CAAC,CAAEA,CAAC,EAAE,CAAE,CACrCnD,OAAO,CAACoD,IAAI,CAACnE,YAAY,CAAC8B,KAAK,CAACoC,CAAC,CAAC,WAAAvC,MAAA,CAAYuC,CAAC,EAAIhC,MAAM,CAACgC,CAAC,CAAC,CAAC,CAAC,CAC/D,CAEA/C,cAAc,CAACiD,OAAO,CAACjE,sBAAsB,CAAEkE,IAAI,CAACC,SAAS,CAAC,CAAEC,UAAU,CAAEN,UAAU,CAAEO,YAAY,CAAEzD,OAAO,CAAC,CAAC,CAAC,CAChHI,cAAc,CAAC4C,UAAU,CAAC9D,sBAAsB,CAAC,CACjDkB,cAAc,CAAC4C,UAAU,CAAC7D,yBAAyB,CAAC,CAEpDW,QAAQ,CAAC,OAAO,CAAE,CAAE+C,OAAO,CAAE,IAAK,CAAC,CAAC,CAErC,CAAC,CAED,GAAM,CAAAa,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAEnBtD,cAAc,CAAC4C,UAAU,CAAC9D,sBAAsB,CAAC,CACjDkB,cAAc,CAAC4C,UAAU,CAAC7D,yBAAyB,CAAC,CAErD,CAAC,CAMD,mBACCO,KAAA,CAAAE,SAAA,EAAA+D,QAAA,eAECnE,IAAA,OAAIoE,EAAE,CAAC,gBAAgB,CAAAD,QAAA,CACrB3D,OAAO,CAACU,GAAG,CAAC,SAACC,CAAC,CAAEJ,KAAK,qBACrBb,KAAA,OAAImE,SAAS,CAAC,mBAAmB,CAAAF,QAAA,eAChCnE,IAAA,UACCsE,YAAY,CAAE/C,KAAK,CAACR,KAAK,CAAE,CAC3BwD,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3C,gBAAgB,CAACd,KAAK,CAAEyD,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CACzD,CAAC,cACF1E,IAAA,UACCqE,SAAS,CAAExE,QAAQ,CAAG,iBAAiB,CAAG,mBAAoB,CAC9D8E,IAAI,CAAC,OAAO,CACZD,KAAK,CAAE/C,MAAM,CAACZ,KAAK,CAAE,CACrBwD,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAvC,iBAAiB,CAAClB,KAAK,CAAEyD,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1D,CAAC,GAVoC3D,KAWnC,CAAC,EACL,CAAC,CACC,CAAC,cAELf,IAAA,WAAQqE,SAAS,CAAC,QAAQ,CAACO,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAM,CAAE,CAACC,OAAO,CAAEtB,IAAK,CAAAU,QAAA,CAAC,MAAI,CAAQ,CAAC,cAEtGnE,IAAA,QAAK4E,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAgB,CAAE,CAAAd,QAAA,cAChEnE,IAAA,MAAGqE,SAAS,CAAC,aAAa,CAAAF,QAAA,cACzBnE,IAAA,CAACV,IAAI,EAACyF,OAAO,CAAEb,KAAM,CAACgB,EAAE,CAAC,aAAa,CAAAf,QAAA,CAAC,WAAM,CAAM,CAAC,CAClD,CAAC,CACA,CAAC,EAEL,CAAC,CAEL,CAEA,cAAe,CAAA9D,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import'./css/EndScreen.css';import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{sessionStorage_players,sessionStorage_winner,clearSessionStorage}from'./utils';import useAxiosPrivate from'../hooks/useAxiosPrivate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EndScreen(){var navigate=useNavigate();var axiosPrivate=useAxiosPrivate();var players=JSON.parse(sessionStorage.getItem(sessionStorage_players));var winner=JSON.parse(sessionStorage.getItem(sessionStorage_winner));var _useState=useState(''),_useState2=_slicedToArray(_useState,2),header=_useState2[0],setHeader=_useState2[1];useEffect(function(){function connect(){return _connect.apply(this,arguments);}function _connect(){_connect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axiosPrivate.get('/endscreen',{headers:{'Content-Type':'application/json'},withCredentials:true}).catch(function(){navigate('/login',{replace:true});});case 2:case\"end\":return _context.stop();}},_callee);}));return _connect.apply(this,arguments);}connect();if(!players||!winner)return navigate('/creategame',{replace:true});if(winner.length===1){setHeader(\"'\".concat(players[winner[0]].Name,\"' hat gewonnen!\"));}else{var string=\"'\".concat(players[winner[0]].Name,\"' \");for(var i=1;winner.length>i;i++){var p=\"'\".concat(players[winner[i]].Name,\"'\");if(i+1===winner.length){string+=\" und \".concat(p,\" haben gewonnen!\");}else{string+=\", \".concat(p);}}setHeader(string);}},[]);var ok=function ok(){clearSessionStorage();navigate('/creategame',{replace:true});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"label\",{className:\"winner\",children:header})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"table\",{className:\"table wins\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Spieler\"}),players===null||players===void 0?void 0:players.map(function(p,i){return/*#__PURE__*/_jsx(\"td\",{children:p.Name},i);})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Gewonnen\"}),players===null||players===void 0?void 0:players.map(function(p,i){return/*#__PURE__*/_jsx(\"td\",{children:p.Wins},i);})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{width:'100%'},onClick:ok,children:\"Ok\"})]});}export default EndScreen;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","sessionStorage_players","sessionStorage_winner","clearSessionStorage","useAxiosPrivate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EndScreen","navigate","axiosPrivate","players","JSON","parse","sessionStorage","getItem","winner","_useState","_useState2","_slicedToArray","header","setHeader","connect","_connect","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","headers","withCredentials","catch","replace","stop","length","concat","Name","string","i","p","ok","children","className","map","Wins","style","width","onClick"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/pages/EndScreen.js"],"sourcesContent":["\r\n\r\nimport '../App.css'\r\nimport './css/EndScreen.css'\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { sessionStorage_players, sessionStorage_winner, clearSessionStorage } from './utils'\r\nimport useAxiosPrivate from '../hooks/useAxiosPrivate'\r\n\r\n\r\nfunction EndScreen() {\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst axiosPrivate = useAxiosPrivate()\r\n\tlet players = JSON.parse(sessionStorage.getItem(sessionStorage_players))\r\n\tlet winner = JSON.parse(sessionStorage.getItem(sessionStorage_winner))\r\n\tconst [header, setHeader] = useState('')\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tasync function connect() {\r\n\t\t\tawait axiosPrivate.get('/endscreen',\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t}\r\n\t\t\t).catch(() => {\r\n\t\t\t\tnavigate('/login', { replace: true })\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconnect()\r\n\r\n\t\tif(!players || !winner) return navigate('/creategame', { replace: true })\r\n\r\n\t\tif(winner.length === 1) {\r\n\t\t\tsetHeader(`'${players[winner[0]].Name}' hat gewonnen!`)\r\n\t\t} else {\r\n\t\t\tlet string = `'${players[winner[0]].Name}' `\r\n\t\t\tfor(let i = 1; winner.length > i; i++) {\r\n\t\t\t\tconst p = `'${players[winner[i]].Name}'`\r\n\t\t\t\tif((i + 1) === winner.length) {\r\n\t\t\t\t\tstring += ` und ${p} haben gewonnen!`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstring += `, ${p}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetHeader(string)\r\n\t\t}\r\n\r\n\t}, [])\r\n\t\r\n\tconst ok = () => {\r\n\t\t\r\n\t\tclearSessionStorage()\r\n\t\tnavigate('/creategame', { replace: true })\r\n\t\r\n\t}\r\n\r\n\t\r\n\r\n\r\n\r\n\t\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='button-container'><label className='winner'>\r\n\t\t\t\t{header}\r\n\t\t\t</label></div>\r\n\r\n\t\t\t<br/>\r\n\r\n\t\t\t<table className='table wins'>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Spieler</td>\r\n\t\t\t\t\t\t{players?.map((p, i) => (\r\n\t\t\t\t\t\t\t<td key={i}>{p.Name}</td>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Gewonnen</td>\r\n\t\t\t\t\t\t{players?.map((p, i) => (\r\n\t\t\t\t\t\t\t<td key={i}>{p.Wins}</td>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\r\n\t\t\t<button className='button' style={{ width: '100%' }} onClick={ok}>Ok</button>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default EndScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
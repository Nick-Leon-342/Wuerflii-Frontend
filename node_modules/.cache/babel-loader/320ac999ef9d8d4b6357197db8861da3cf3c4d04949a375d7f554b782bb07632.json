{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nickl/Desktop/Git Projects/kniffel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import'./css/EndScreen.css';import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{sessionStorage_session,sessionStorage_winner,clearSessionStorage}from'./utils';import useAxiosPrivate from'../hooks/useAxiosPrivate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EndScreen(){var navigate=useNavigate();var axiosPrivate=useAxiosPrivate();var session=JSON.parse(sessionStorage.getItem(sessionStorage_session));var winner=JSON.parse(sessionStorage.getItem(sessionStorage_winner));var _useState=useState(''),_useState2=_slicedToArray(_useState,2),header=_useState2[0],setHeader=_useState2[1];useEffect(function(){function connect(){return _connect.apply(this,arguments);}function _connect(){_connect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axiosPrivate.get('/endscreen',{headers:{'Content-Type':'application/json'},withCredentials:true}).catch(function(){navigate('/login',{replace:true});});case 2:case\"end\":return _context.stop();}},_callee);}));return _connect.apply(this,arguments);}connect();if(!session||!winner)return navigate('/creategame',{replace:true});if(winner.length===1){setHeader(\"'\".concat(winner[0],\"' hat gewonnen!\"));}else{var string=\"'\".concat(winner[0],\"' \");for(var i=1;winner.length>i;i++){var p=\"'\".concat(winner[i],\"'\");if(i+1===winner.length){string+=\" und \".concat(p,\" haben gewonnen!\");}else{string+=\", \".concat(p);}}setHeader(string);}},[]);var ok=function ok(){clearSessionStorage();navigate('/creategame',{replace:true});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"label\",{className:\"winner\",children:header})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"table\",{className:\"table wins\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Spieler\"}),session===null||session===void 0?void 0:session.List_Players.map(function(p,i){return/*#__PURE__*/_jsx(\"td\",{children:p.Name},i);})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Gewonnen\"}),session===null||session===void 0?void 0:session.List_Players.map(function(p,i){return/*#__PURE__*/_jsx(\"td\",{children:p.Wins},i);})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{width:'100%'},onClick:ok,children:\"Ok\"})]});}export default EndScreen;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","sessionStorage_session","sessionStorage_winner","clearSessionStorage","useAxiosPrivate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EndScreen","navigate","axiosPrivate","session","JSON","parse","sessionStorage","getItem","winner","_useState","_useState2","_slicedToArray","header","setHeader","connect","_connect","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","headers","withCredentials","catch","replace","stop","length","concat","string","i","p","ok","children","className","List_Players","map","Name","Wins","style","width","onClick"],"sources":["C:/Users/nickl/Desktop/Git Projects/kniffel/src/pages/EndScreen.js"],"sourcesContent":["\r\n\r\nimport '../App.css'\r\nimport './css/EndScreen.css'\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { sessionStorage_session, sessionStorage_winner, clearSessionStorage } from './utils'\r\nimport useAxiosPrivate from '../hooks/useAxiosPrivate'\r\n\r\n\r\n\r\n\r\n\r\nfunction EndScreen() {\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst axiosPrivate = useAxiosPrivate()\r\n\r\n\tconst session = JSON.parse(sessionStorage.getItem(sessionStorage_session))\r\n\tconst winner = JSON.parse(sessionStorage.getItem(sessionStorage_winner))\r\n\r\n\tconst [header, setHeader] = useState('')\r\n\r\n\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tasync function connect() {\r\n\t\t\tawait axiosPrivate.get('/endscreen',\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t}\r\n\t\t\t).catch(() => {\r\n\t\t\t\tnavigate('/login', { replace: true })\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconnect()\r\n\r\n\t\tif(!session || !winner) return navigate('/creategame', { replace: true })\r\n\r\n\t\tif(winner.length === 1) {\r\n\t\t\tsetHeader(`'${winner[0]}' hat gewonnen!`)\r\n\t\t} else {\r\n\t\t\tlet string = `'${winner[0]}' `\r\n\t\t\tfor(let i = 1; winner.length > i; i++) {\r\n\t\t\t\tconst p = `'${winner[i]}'`\r\n\t\t\t\tif((i + 1) === winner.length) {\r\n\t\t\t\t\tstring += ` und ${p} haben gewonnen!`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstring += `, ${p}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetHeader(string)\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\r\n\r\n\r\n\r\n\tconst ok = () => {\r\n\t\t\r\n\t\tclearSessionStorage()\r\n\t\tnavigate('/creategame', { replace: true })\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\r\n\t\t\t<div className='button-container'><label className='winner'>\r\n\t\t\t\t{header}\r\n\t\t\t</label></div>\r\n\r\n\t\t\t<br/>\r\n\r\n\t\t\t<table className='table wins'>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Spieler</td>\r\n\t\t\t\t\t\t{session?.List_Players.map((p, i) => (\r\n\t\t\t\t\t\t\t<td key={i}>{p.Name}</td>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Gewonnen</td>\r\n\t\t\t\t\t\t{session?.List_Players.map((p, i) => (\r\n\t\t\t\t\t\t\t<td key={i}>{p.Wins}</td>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\r\n\t\t\t<button className='button' style={{ width: '100%' }} onClick={ok}>Ok</button>\r\n\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default EndScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}